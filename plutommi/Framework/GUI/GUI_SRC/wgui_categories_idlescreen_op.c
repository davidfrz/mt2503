/*****************************************************************************
*  Copyright Statement:
*  --------------------
*  This software is protected by Copyright and the information contained
*  herein is confidential. The software may not be copied and the information
*  contained herein may not be used or disclosed except with the written
*  permission of MediaTek Inc. (C) 2005
*
*  BY OPENING THIS FILE, BUYER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
*  THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("MEDIATEK SOFTWARE")
*  RECEIVED FROM MEDIATEK AND/OR ITS REPRESENTATIVES ARE PROVIDED TO BUYER ON
*  AN "AS-IS" BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES,
*  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF
*  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NONINFRINGEMENT.
*  NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY WHATSOEVER WITH RESPECT TO THE
*  SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY, INCORPORATED IN, OR
*  SUPPLIED WITH THE MEDIATEK SOFTWARE, AND BUYER AGREES TO LOOK ONLY TO SUCH
*  THIRD PARTY FOR ANY WARRANTY CLAIM RELATING THERETO. MEDIATEK SHALL ALSO
*  NOT BE RESPONSIBLE FOR ANY MEDIATEK SOFTWARE RELEASES MADE TO BUYER'S
*  SPECIFICATION OR TO CONFORM TO A PARTICULAR STANDARD OR OPEN FORUM.
*
*  BUYER'S SOLE AND EXCLUSIVE REMEDY AND MEDIATEK'S ENTIRE AND CUMULATIVE
*  LIABILITY WITH RESPECT TO THE MEDIATEK SOFTWARE RELEASED HEREUNDER WILL BE,
*  AT MEDIATEK'S OPTION, TO REVISE OR REPLACE THE MEDIATEK SOFTWARE AT ISSUE,
*  OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE CHARGE PAID BY BUYER TO
*  MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT ISSUE. 
*
*  THE TRANSACTION CONTEMPLATED HEREUNDER SHALL BE CONSTRUED IN ACCORDANCE
*  WITH THE LAWS OF THE STATE OF CALIFORNIA, USA, EXCLUDING ITS CONFLICT OF
*  LAWS PRINCIPLES.  ANY DISPUTES, CONTROVERSIES OR CLAIMS ARISING THEREOF AND
*  RELATED THERETO SHALL BE SETTLED BY ARBITRATION IN SAN FRANCISCO, CA, UNDER
*  THE RULES OF THE INTERNATIONAL CHAMBER OF COMMERCE (ICC).
*
*****************************************************************************/

/*****************************************************************************
 *
 * Filename:
 * ---------
 *   wgui_categories_idlescreen_op.c
 *
 * Project:
 * --------
 *   MAUI
 *
 * Description:
 * ------------
 * Operator idle screen related categories.
 *
 * Author:
 * -------
 * -------
 *
 *============================================================================
 *             HISTORY
 * Below this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *------------------------------------------------------------------------------
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *------------------------------------------------------------------------------
 * Upper this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *============================================================================
 ****************************************************************************/
 
#include "MMI_features.h"
#include "Wgui_include.h"
#include "Gui_themes.h"
#include "Wgui_draw_manager.h"
#include "Wgui_inputs.h"
#include "wgui_fixed_menus.h"
#include "Wgui_categories_util.h"
#include "Wgui_dynamic_menus.h"
#include "Wgui_fixed_menuitems.h"
#include "Wgui_touch_screen.h"
#include "Gui_dynamic_menus.h"
#include "wgui_categories_idlescreen_op.h"
#if defined(__MMI_TOUCH_SCREEN__)
#include "wgui_virtual_keyboard.h"
#endif /* defined(__MMI_TOUCH_SCREEN__) */ 
#include "TimerEvents.h"
#include "wgui_dynamic_menuitems.h"
#include "wgui_categories_inputs.h"

#include "MMIDataType.h"
#include "gdi_const.h"
#include "gdi_datatype.h"
#include "gui_windows.h"
#include "gui_data_types.h"
#include "gui_typedef.h"
#include "custom_mmi_default_value.h"
#include "kal_general_types.h"
#include "mmi_frm_input_gprot.h"
#include "wgui_side_bar.h"
#include "gdi_include.h"
#include "gui.h"
#include "CustThemesRes.h"
#include "wgui.h"
#include "gui_switch.h"
#include "PixcomFontEngine.h"
#include "lcd_sw_inc.h"
#include "Gui_Setting.h"
#include "wgui_categories_idlescreen.h"
#include "app_datetime.h"
#include "mmi_rp_srv_status_icons_def.h"
#include "CustDataRes.h"
#include "Unicodexdcl.h"
#include "kal_public_api.h"
#include "DebugInitDef_Int.h"
#include "lcd_sw_rnd.h"
#include "gdi_lcd_config.h"
#include "mmi_frm_mem_gprot.h"
#include "gui_side_bar.h"
#include "wgui_categories_list.h"
#include "string.h"
#include "GlobalConstants.h"
#include "mmi_frm_events_gprot.h"
#include "wgui_categories_enum.h"
#include "gui_theme_struct.h"
#include "gui_fixed_menus.h"
#include "gui_buttons.h"
#include "gui_inputs.h"
#include "TimerEvents.h"
#include "mmi_frm_timer_gprot.h"
#include "gui_fixed_menuitems.h"
#include "GlobalResDef.h"
#include "wgui_dynamic_menuitems.h"
#include "gui_config.h"
#include "ImeGprot.h"
#include "gui_scrollbars.h"
#include "mmi_rp_app_uiframework_def.h"
#include "wgui_categories_inputs.h"


#if defined(__MMI_COSMOS_KEYPAD_SUPPORT_VK__)
#include "Imc.h"
#endif /*__MMI_COSMOS_KEYPAD_SUPPORT_VK__*/

#if 0
#if defined(__MMI_OP11_CAT433_SUPPORT__)
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#if defined(__MMI_DUAL_CLOCK__) 
/* under construction !*/
#endif
/* under construction !*/
/* under construction !*/
#ifdef __MMI_TOUCH_SCREEN__
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif /* __MMI_TOUCH_SCREEN__ */ 
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#if defined(__MMI_DUAL_CLOCK__)     
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#if defined(__MMI_DUAL_CLOCK__)
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#ifdef __MMI_TOUCH_SCREEN__
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif /* __MMI_TOUCH_SCREEN__ */
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif /* defined(__MMI_OP11_CAT433_SUPPORT__) */
#endif

#if 0
#ifdef __MMI_OP12_CAT533_SUPPORT__
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#if defined(ENABLE_ANIMATED_WALLPAPERS) && defined(__GDI_MEMORY_PROFILE_2__)
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif /* defined(ENABLE_ANIMATED_WALLPAPERS) && defined(__GDI_MEMORY_PROFILE_2__) */ 
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#if defined(ENABLE_ANIMATED_WALLPAPERS) && defined(__GDI_MEMORY_PROFILE_2__)
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif /* defined(ENABLE_ANIMATED_WALLPAPERS) && defined(__GDI_MEMORY_PROFILE_2__) */ 
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif /* __MMI_OP12_CAT533_SUPPORT__ */
#endif

#ifdef __MMI_CAT203_SUPPORT__

#ifdef __MMI_TOUCH_SCREEN__
static MMI_BOOL g_wgui_cat203_is_vk_input = MMI_FALSE;
#endif

S32 (*g_wgui_cat203_search_function) (UI_buffer_type) = NULL;
void (*g_wgui_cat203_resize_and_draw_func) (S32) = NULL;

#ifdef __MMI_FTE_SUPPORT__
void (*g_wgui_cat203_highlight_handler) (S32) = NULL;
U16 g_wgui_cat203_button_id = 0;
#endif

UI_filled_area string_bg_filler = {UI_FILLED_AREA_TYPE_COLOR,
    UI_NULL_IMAGE,
    NULL,
    {255, 255, 255, 100},
    {0, 0, 0, 0},
    {0, 0, 0, 100},
    {50, 50, 50, 100},
    0
};
#ifndef __MMI_FTE_SUPPORT__
UI_string_type g_info = NULL;
#endif


UI_multi_line_input_box_theme MMI_ml_inputbox_theme = 
{ 
    (UI_filled_area *)NULL,
    (UI_filled_area *)NULL,
    (UI_filled_area *)NULL,
    {0, 0, 0, 100},
    {0, 0, 0, 100},
    {128, 128, 128, 100},
    {0, 0, 0, 100},
    {255, 255, 255, 100},
    {51, 88, 171, 100},
    {255, 0, 0, 100},
    {0, 0, 255, 100},
    &UI_DEFAULT_FONT,
    1,
    0,
    '*',
    5
};

#ifdef __MMI_TOUCH_SCREEN__
mmi_pen_hdlr g_wui_cat203_original_pen_long_tap_handler = NULL;
mmi_pen_hdlr g_wui_cat203_original_pen_up_handler = NULL;
#endif /* __MMI_TOUCH_SCREEN__ */

#if (defined __MMI_TOUCH_SCREEN__)
static U16 g_wgui_cat203_center_string = 0;
static U16 g_wgui_cat203_center_icon = 0;
static MMI_BOOL g_wgui_cat203_enable_center_softkey = MMI_FALSE;
#endif /* (defined __MMI_TOUCH_SCREEN__) */

#if (defined __MMI_TOUCH_SCREEN__)
/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_enable_center_softkey
 * DESCRIPTION
 *  set center softkey parameter
 * PARAMETERS
 *  string     [IN]    center softkey string
 *  icon       [IN]    center softkey icon
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_cat203_enable_center_softkey(U16 string, U16 icon)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
	g_wgui_cat203_enable_center_softkey = MMI_TRUE;
	g_wgui_cat203_center_string = string;
    g_wgui_cat203_center_icon = icon;
}
#endif /* (defined __MMI_TOUCH_SCREEN__) */


#ifdef __MMI_FTE_SUPPORT__
/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_register_highlight_handler
 * DESCRIPTION
 *  register category203 highlight handler
 * PARAMETERS
 *  f      [IN]   highlight handler function
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_cat203_register_highlight_handler(void (*f) (S32))
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    g_wgui_cat203_highlight_handler = f;
    RegisterHighlightHandler(f);
}
#endif /* __MMI_FTE_SUPPORT__ */ 

/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_get_hw_area
 * DESCRIPTION
 *  Get hand writing area 
 * PARAMETERS
 *  x       [IN/OUT]   X coordinate of hand writing area
 *  y       [IN/OUT]   Y coordinate of hand writing area
 *  w       [IN/OUT]   Width of hand writing area
 *  h       [IN/OUT]   Height of  hand writing area
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_cat203_get_hw_area(S32 *x, S32 *y, S32 *w, S32 *h)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    *x = MMI_fixed_list_menu.x;
    *y = MMI_fixed_list_menu.y;
    *w = MMI_fixed_list_menu.width - current_MMI_theme->scrollbar_size;
    *h = MMI_fixed_list_menu.height;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_resize_and_draw
 * DESCRIPTION
 *  1. resize dynamic list 
 *  2. redraw all component in the screen
 * PARAMETERS
 *  virtual_keyboard_h            [IN]          Height of virtual keyboard
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_cat203_resize_and_draw(S32 virtual_keyboard_h)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 menu_h;
    #ifdef __MMI_FTE_SUPPORT__
    icontext_button *bs_bt;
    #endif
    
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/ 
    gdi_layer_lock_frame_buffer();    
#ifndef __MMI_FTE_SUPPORT__    
    /* set dynamic list position and resize it */    
    menu_h = UI_device_height - MMI_STATUS_BAR_HEIGHT - CAT203_MULTI_LINE_INPUTBOX_H - CAT203_STRING_H - virtual_keyboard_h - MMI_BUTTON_BAR_HEIGHT;
    wgui_dynamic_list_move_icontext_menu(CAT203_CONTENT_X, CAT203_DYNAMIC_LIST_Y);
    wgui_dynamic_list_resize_icontext_menu(CAT203_CONTENT_W, menu_h);
    dynamic_list_goto_item_no_redraw(MMI_fixed_list_menu.highlighted_item);

    /* clear background and show singleline inputbox */
    gdi_draw_solid_rect(
        CAT203_CONTENT_X, 
        CAT203_MULTI_LINE_INPUTBOX_Y, 
        CAT203_CONTENT_X + CAT203_CONTENT_W - 1, 
        CAT203_MULTI_LINE_INPUTBOX_Y + CAT203_MULTI_LINE_INPUTBOX_H - 1, 
        GDI_COLOR_TRANSPARENT); 
    show_multiline_inputbox();

    /* clear background and show dynamic list */
    gdi_draw_solid_rect(
        CAT203_CONTENT_X, 
        CAT203_DYNAMIC_LIST_Y, 
        CAT203_CONTENT_X + CAT203_CONTENT_W - 1, 
        CAT203_DYNAMIC_LIST_Y + menu_h - 1, 
        GDI_COLOR_TRANSPARENT);
    redraw_dynamic_list();
#else /* __MMI_FTE_SUPPORT__ */ 
    /* set dynamic list position and resize it */    
    menu_h = UI_device_height - MMI_STATUS_BAR_HEIGHT - CAT203_BACKSPACE_H - virtual_keyboard_h - MMI_BUTTON_BAR_HEIGHT;
    if ((MMI_fixed_list_menu.width != CAT203_DYNAMIC_LIST_W) || (MMI_fixed_list_menu.height != menu_h))
    {
        wgui_dynamic_list_resize_icontext_menu(CAT203_DYNAMIC_LIST_W, menu_h);
        dynamic_list_goto_item_no_redraw(MMI_fixed_list_menu.highlighted_item);
    }

    if (wgui_cat203_is_editor_active())
    {
        MMI_fixed_list_menu.highlighted_item = WGUI_LIST_INVALID_HIGHLIGHT;
    }
    
    /* clear background and show singleline inputbox */
    gdi_draw_solid_rect(
        CAT203_CONTENT_X, 
        CAT203_DYNAMIC_LIST_Y + menu_h, 
        CAT203_CONTENT_X + CAT203_CONTENT_W - 1, 
        CAT203_DYNAMIC_LIST_Y + menu_h + CAT203_BACKSPACE_H - 1, 
        GDI_COLOR_TRANSPARENT); 
    //wgui_inputs_sl_move(CAT203_SL_INPUTBOX_X, CAT203_DYNAMIC_LIST_Y + menu_h - 1);
    wgui_inputs_sl_move(CAT203_SL_INPUTBOX_X, CAT203_DYNAMIC_LIST_Y + menu_h);
    
    //if (mmi_imc_get_vk_present() == MMI_IMC_VK_DEFAULT_HIDE)
    if (virtual_keyboard_h < CAT203_VK_DEFAULE_H)
    {
        wgui_inputs_sl_resize(UI_device_width - (CAT203_SL_INPUTBOX_X << 1), MMI_singleline_inputbox.height);
    }
    else
    {
        wgui_inputs_sl_resize(CAT203_SL_INPUTBOX_W, MMI_singleline_inputbox.height);
    }
    wgui_inputs_sl_show();
    
    /* setup backspace button */
#ifdef __MMI_TOUCH_SCREEN__
    bs_bt = dm_get_button(g_wgui_cat203_button_id);
    //if (mmi_imc_get_vk_present() == MMI_IMC_VK_DEFAULT_HIDE)
    if (virtual_keyboard_h < CAT203_VK_DEFAULE_H)
    {
        gui_move_icontext_button(bs_bt, 0, 0);
        gui_resize_icontext_button(bs_bt, 0, 0);
        gui_icontext_button_overwirte_pen_response_area(bs_bt, 0, 0, 0, 0);
    }
    else
    { 
        gui_move_icontext_button(
            bs_bt, 
            CAT203_BACKSPACE_X,
            MMI_singleline_inputbox.y + CAT203_BACKSPACE_Y_BASED_ON_SL - 1);
        gui_resize_icontext_button(bs_bt, CAT203_BACKSPACE_W, CAT203_BACKSPACE_H);
        gui_icontext_button_overwirte_pen_response_area(
            bs_bt,
            bs_bt->x,
            bs_bt->y,
            bs_bt->x + bs_bt->width,
            bs_bt->y + bs_bt->height);
        gui_show_icontext_button(bs_bt);
    }
#endif

    /* clear background and show dynamic list */
    gdi_draw_solid_rect(
        CAT203_CONTENT_X, 
        CAT203_DYNAMIC_LIST_Y, 
        CAT203_CONTENT_X + CAT203_CONTENT_W - 1, 
        CAT203_DYNAMIC_LIST_Y + menu_h - 1, 
        GDI_COLOR_TRANSPARENT);
    redraw_dynamic_list();
    RegisterHighlightHandler(g_wgui_cat203_highlight_handler);
    
#endif /* __MMI_FTE_SUPPORT__ */ 
    gdi_layer_unlock_frame_buffer();
}


#ifndef __MMI_FTE_SUPPORT__
/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_set_editor_focus_state
 * DESCRIPTION
 *  set editor status (focus or unfocus)
 * PARAMETERS
 *  active     [IN]   focus or unfocus
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_cat203_set_editor_focus_state(MMI_BOOL active)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    UI_font_type cur_font;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/  
    if (active == MMI_TRUE)
    {
        MMI_ml_inputbox_theme.normal_filler = current_MMI_theme->inputbox_filler;
        MMI_ml_inputbox_theme.selected_filler = current_MMI_theme->inputbox_filler;
        MMI_ml_inputbox_theme.text_font = MMI_multiline_inputbox.text_font;
        MMI_ml_inputbox_theme.cursor_color = (*current_MMI_theme->inputbox_cursor_color);

        gui_set_multi_line_input_box_theme(&MMI_multiline_inputbox, &MMI_ml_inputbox_theme);
        MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_STATE_FOCUSSED;
        MMI_multiline_inputbox.flags &= ~UI_MULTI_LINE_INPUT_BOX_STATE_NORMAL;
        MMI_multiline_inputbox.flags &= ~UI_MULTI_LINE_INPUT_BOX_DISABLE_CURSOR_DRAW;

        wgui_inputs_ml_register_keys();
//#ifndef __OP11__
        wgui_inputs_ml_set_RSK();    
//#endif
    }
    else
    {             
        cur_font = MMI_multiline_inputbox.text_font;
        gui_set_multi_line_input_box_current_theme(&MMI_multiline_inputbox);
        MMI_multiline_inputbox.text_font = cur_font;

        MMI_multiline_inputbox.flags &= ~UI_MULTI_LINE_INPUT_BOX_STATE_FOCUSSED;
        MMI_multiline_inputbox.flags |= (UI_MULTI_LINE_INPUT_BOX_STATE_NORMAL | UI_MULTI_LINE_INPUT_BOX_DISABLE_CURSOR_DRAW);

        ClearKeyHandler(KEY_RIGHT_ARROW, KEY_EVENT_DOWN);
        ClearKeyHandler(KEY_LEFT_ARROW, KEY_EVENT_DOWN);
        StopTimer(BLINKING_CURSOR); /* disable cursor */
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_set_menu_focus_state
 * DESCRIPTION
 *  set menu status (focus or unfocus)
 * PARAMETERS
 *  active     [IN]   focus or unfocus
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_cat203_set_menu_focus_state(MMI_BOOL active)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/ 
    if (active == MMI_TRUE)
    {
        MMI_fixed_icontext_menuitem.flags &= ~UI_MENUITEM_DISABLE_HIGHLIGHT;
        MMI_fixed_icontext_menuitem.ext_flags &= ~UI_MENUITEM_EXT_DISABLED_SCROLL;
        register_dynamic_list_keys();
//#ifndef __OP11__
        set_right_softkey_label(get_string(STR_GLOBAL_BACK));
        //set_right_softkey_icon(wgui_singleline_inputbox_RSK_label_icon);
        redraw_right_softkey();
        set_right_softkey_function(wgui_inputs_ml_register_handle_right_softkey_up, KEY_EVENT_DOWN);
        set_right_softkey_function(NULL, KEY_LONG_PRESS);
//#endif
        wgui_inputs_ml_move_cursor(WGUI_INPUTS_CURSOR_POS_END);
    }
    else
    {
        MMI_fixed_icontext_menuitem.flags |= UI_MENUITEM_DISABLE_HIGHLIGHT;
        MMI_fixed_icontext_menuitem.ext_flags |= UI_MENUITEM_EXT_DISABLED_SCROLL;
    }
}

#else /* #ifndef __MMI_FTE_SUPPORT__ */

/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_set_editor_focus_state
 * DESCRIPTION
 *  set editor status (focus or unfocus)
 * PARAMETERS
 *  active     [IN]   focus or unfocus
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_cat203_set_editor_focus_state(MMI_BOOL active)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    UI_font_type cur_font;
    MMI_BOOL ret = MMI_FALSE;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/  
    if (active == MMI_TRUE)
    {
        ret = wgui_cat203_is_editor_active();
        MMI_singleline_inputbox.flags &= ~UI_SINGLE_LINE_INPUT_BOX_STATE_NORMAL;
        MMI_singleline_inputbox.flags &= ~UI_SINGLE_LINE_INPUT_BOX_DISABLE_CURSOR_DRAW;

        wgui_inputs_sl_register_keys();
//#ifndef __OP11__
        if (ret == MMI_FALSE)
        {
            wgui_inputs_sl_set_RSK();
        }
//#endif
    }
    else
    {                
        MMI_singleline_inputbox.flags |= (UI_SINGLE_LINE_INPUT_BOX_STATE_NORMAL | UI_SINGLE_LINE_INPUT_BOX_DISABLE_CURSOR_DRAW);

        ClearKeyHandler(KEY_RIGHT_ARROW, KEY_EVENT_DOWN);
        ClearKeyHandler(KEY_LEFT_ARROW, KEY_EVENT_DOWN);
        StopTimer(BLINKING_CURSOR); /* disable cursor */
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_set_menu_focus_state
 * DESCRIPTION
 *  set menu status (focus or unfocus)
 * PARAMETERS
 *  active     [IN]   focus or unfocus
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_cat203_set_menu_focus_state(MMI_BOOL active)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/  
    if (active == MMI_TRUE)
    {
        MMI_fixed_icontext_menuitem.flags &= ~UI_MENUITEM_DISABLE_HIGHLIGHT;
        MMI_fixed_icontext_menuitem.ext_flags &= ~UI_MENUITEM_EXT_DISABLED_SCROLL;
        register_dynamic_list_keys();
//#ifndef __OP11__
        set_right_softkey_label(get_string(STR_GLOBAL_BACK));
        //set_right_softkey_icon(wgui_singleline_inputbox_RSK_label_icon);
        redraw_right_softkey();
        set_right_softkey_function(NULL, KEY_EVENT_DOWN);
        set_right_softkey_function(wgui_singleline_inputbox_RSK_function, KEY_EVENT_UP);
        set_right_softkey_function(NULL, KEY_LONG_PRESS);
//#endif
        wgui_inputs_sl_move_cursor(WGUI_INPUTS_CURSOR_POS_END);
    }
    else
    {
        MMI_fixed_icontext_menuitem.flags |= UI_MENUITEM_DISABLE_HIGHLIGHT;
        MMI_fixed_icontext_menuitem.ext_flags |= UI_MENUITEM_EXT_DISABLED_SCROLL;
        //MMI_fixed_list_menu.highlighted_item = WGUI_LIST_INVALID_HIGHLIGHT;
        if (g_wgui_cat203_highlight_handler)
        {
            g_wgui_cat203_highlight_handler(WGUI_LIST_INVALID_HIGHLIGHT);
        }
        gui_pop_up_description_stop_scroll();
        gui_fixed_icontext_menuitem_stop_scroll();
    }
}

#endif /* #ifndef __MMI_FTE_SUPPORT__ */
/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_is_editor_active
 * DESCRIPTION
 *  get if focus on editor
 * PARAMETERS
 *  void
 * RETURNS
 *  MMI_BOOL
 *****************************************************************************/
MMI_BOOL wgui_cat203_is_editor_active(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    MMI_BOOL result = MMI_FALSE;
    
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/  
#ifndef __MMI_FTE_SUPPORT__
    if (MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_STATE_FOCUSSED)
    {
        result = MMI_TRUE;        
    }
#else
    if (!(MMI_singleline_inputbox.flags & (UI_SINGLE_LINE_INPUT_BOX_STATE_NORMAL | UI_SINGLE_LINE_INPUT_BOX_DISABLE_CURSOR_DRAW)))
    {
        result = MMI_TRUE;        
    }
#endif
    return result;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_is_menu_active
 * DESCRIPTION
 *  get if focus on menu
 * PARAMETERS
 *  void
 * RETURNS
 *  MMI_BOOL
 *****************************************************************************/
MMI_BOOL wgui_cat203_is_menu_active(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    MMI_BOOL result = MMI_FALSE;
    
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/  
    if (MMI_fixed_icontext_menuitem.flags & ~UI_MENUITEM_DISABLE_HIGHLIGHT)
    {
        result = MMI_TRUE;        
	}
    return result;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_refresh_search_list
 * DESCRIPTION
 *  refresh search list
 * PARAMETERS
 *  input_number   [IN]   input number for searching
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_cat203_refresh_search_list(U8 *input_number)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 no_entries = 0;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    no_entries = g_wgui_cat203_search_function(input_number);
    init_dynamic_item_buffer(no_entries, dynamic_item_buffer.load_func, dynamic_item_buffer.hint_func, UI_dummy_function);
    MMI_fixed_list_menu.n_items = no_entries;           
    dynamic_list_goto_item_no_redraw(0);
    
#if(UI_ENABLE_POP_UP_DESCRIPTIONS)
    gui_pop_up_description_stop_scroll();
#endif 
    wgui_text_menuitem_reset_scrolling(); /* reset menuitem not to scroll */
    redraw_dynamic_list();
}

#ifndef __MMI_FTE_SUPPORT__
/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_singleline_inputbox_input_callback
 * DESCRIPTION
 *  When singleline inputbox changed, this function will be called to set 
 *  highlight on editor
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_cat203_multiline_inputbox_input_callback(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_inputs_ml_handle_input();

    gdi_layer_lock_frame_buffer();    

    wgui_cat203_refresh_search_list(MMI_multiline_inputbox.text);

    /* set editor active */
    wgui_cat203_set_editor_focus_state(MMI_TRUE);
    redraw_multiline_inputbox();
    /* set menu inactive */
    wgui_cat203_set_menu_focus_state(MMI_FALSE);    
    dynamic_list_goto_item_no_redraw(0);
    wgui_text_menuitem_reset_scrolling(); /* reset menuitem not to scroll */
    redraw_dynamic_list();

    gdi_layer_unlock_frame_buffer();   
    gdi_lcd_repaint_all();
}
#else /* __MMI_FTE_SUPPORT__ */
/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_singleline_inputbox_input_callback
 * DESCRIPTION
 *  When singleline inputbox changed, this function will be called to set 
 *  highlight on editor
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_cat203_singleline_inputbox_input_callback(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gdi_layer_lock_frame_buffer();    

    wgui_cat203_refresh_search_list(MMI_singleline_inputbox.text);

    /* set editor active */
    wgui_cat203_set_editor_focus_state(MMI_TRUE);
    wgui_inputs_sl_handle_input();
    wgui_inputs_sl_redraw();
    /* set menu inactive */
    wgui_cat203_set_menu_focus_state(MMI_FALSE);    
    dynamic_list_goto_item_no_redraw(0);
    MMI_fixed_list_menu.highlighted_item = WGUI_LIST_INVALID_HIGHLIGHT;
    wgui_text_menuitem_reset_scrolling(); /* reset menuitem not to scroll */
    redraw_dynamic_list();

    gdi_layer_unlock_frame_buffer();    
    gdi_lcd_repaint_all();
}

#endif /* __MMI_FTE_SUPPORT__ */


#ifndef __MMI_FTE_SUPPORT__
/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_menu_pre_key_handler
 * DESCRIPTION
 *  pre-key handler for menu
 *  when up/down/left/right, this function will be called to set highlight
 * PARAMETERS
 *  key_code     [IN]  key code
 * RETURNS
 *  MMI_BOOL
 *****************************************************************************/
MMI_BOOL wgui_cat203_menu_pre_key_handler(MMI_key_code_type key_code)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    MMI_BOOL result = MMI_FALSE; /* when result = MMI_TRUE, menu or editor will not process key event */

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    switch (key_code)
    {
        /* menu key */    
        case KEY_UP_ARROW:
        case KEY_VOL_UP:
            if (wgui_cat203_is_menu_active() == MMI_TRUE)
            {
                if (MMI_fixed_list_menu.highlighted_item == 0) /* highilight on the first item */
                {
                    /* set menu inactive */                    
                    wgui_cat203_set_menu_focus_state(MMI_FALSE);
                    dynamic_list_goto_item_no_redraw(0);
                    wgui_text_menuitem_reset_scrolling(); /* reset menuitem not to scroll */
                    redraw_dynamic_list();
                    
                    /* set editor active */
                    wgui_cat203_set_editor_focus_state(MMI_TRUE);
                    redraw_multiline_inputbox();
                    result = MMI_TRUE;
                }
            }
            break;
        case KEY_DOWN_ARROW:
        case KEY_VOL_DOWN:   
            if (wgui_cat203_is_menu_active() == MMI_TRUE)/* highlight on menu */
            {
                /* set editor inactive */
                if (MMI_fixed_list_menu.highlighted_item == MMI_fixed_list_menu.n_items - 1)
                {
                    /* set menu inactive */                    
                    wgui_cat203_set_menu_focus_state(MMI_FALSE);
                    dynamic_list_goto_item_no_redraw(0);
                    wgui_text_menuitem_reset_scrolling(); /* reset menuitem not to scroll */
                    redraw_dynamic_list();
                    
                    /* set editor active */
                    wgui_cat203_set_editor_focus_state(MMI_TRUE);
                    redraw_multiline_inputbox();
                    result = MMI_TRUE;                

                }
            }
            break;
        default:
            break; 
    }
    return result;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_editor_pre_key_handler
 * DESCRIPTION
 *  pre-key handler for menu
 *  when up/down/left/right, this function will be called to set highlight
 * PARAMETERS
 *  key_code     [IN]  key code
 * RETURNS
 *  MMI_BOOL
 *****************************************************************************/
MMI_BOOL wgui_cat203_editor_pre_key_handler(S16 key_code)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    MMI_BOOL result = MMI_FALSE; /* when result = MMI_TRUE, menu or editor will not process key event */

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    switch (key_code)
    {
        /* menu key */    
        case KEY_UP_ARROW:
        case KEY_VOL_UP:
            if (gui_multi_line_input_box_test_first_line(&MMI_multiline_inputbox))  /* cursor at first line */
            {
                if(MMI_fixed_list_menu.n_items > 0)
                {
                    gdi_layer_lock_frame_buffer();

                    /* set editor inactive */
                    wgui_cat203_set_editor_focus_state(MMI_FALSE);
                    redraw_multiline_inputbox();            
                    /* set menu active and highlight on the first item */
                    wgui_cat203_set_menu_focus_state(MMI_TRUE);
                    dynamic_list_goto_item_no_redraw(MMI_fixed_list_menu.n_items - 1);
                    redraw_dynamic_list();                    

                    gdi_layer_unlock_frame_buffer();
                    gdi_lcd_repaint_all();
                    result = MMI_TRUE;
                }
                
            }            
            break;
        case KEY_DOWN_ARROW:
        case KEY_VOL_DOWN:   
            if (gui_multi_line_input_box_test_last_line(&MMI_multiline_inputbox))  /* cursor at first line */
            {
                if(MMI_fixed_list_menu.n_items > 0)
                {
                    gdi_layer_lock_frame_buffer();

                    /* set editor inactive */
                    wgui_cat203_set_editor_focus_state(MMI_FALSE);
                    redraw_multiline_inputbox();            
                    /* set menu active and highlight on the first item */
                    wgui_cat203_set_menu_focus_state(MMI_TRUE);
                    dynamic_list_goto_item_no_redraw(0);
                    redraw_dynamic_list();

                    gdi_layer_unlock_frame_buffer();
                    gdi_lcd_repaint_all();
                    result = MMI_TRUE;
                }
            }
            break;
        default:
            break; 
    }
    return result;
}

#else /* #ifndef __MMI_FTE_SUPPORT__ */

/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_menu_pre_key_handler
 * DESCRIPTION
 *  menu pre-key handler
 * PARAMETERS
 *  key_code    [IN]   key code
 * RETURNS
 *  MMI_BOOL
 *****************************************************************************/
MMI_BOOL wgui_cat203_menu_pre_key_handler(MMI_key_code_type key_code)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    MMI_BOOL result = MMI_FALSE; /* when result = MMI_TRUE, menu will not process key event */

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    switch (key_code)
    {
        /* menu key */    
        case KEY_UP_ARROW:
        case KEY_VOL_UP:
            if (wgui_cat203_is_editor_active() == MMI_TRUE)
            {   
                /* set menu inactive */
                wgui_cat203_set_menu_focus_state(MMI_TRUE);
                wgui_cat203_set_editor_focus_state(MMI_FALSE);
                //dynamic_list_goto_item_no_redraw(MMI_fixed_list_menu.n_items - 1);
                dynamic_list_goto_item_no_redraw(0);
                redraw_dynamic_list();

                wgui_inputs_sl_redraw();
                
                result = MMI_TRUE;
            }            
            else if (wgui_cat203_is_menu_active() == MMI_TRUE)
            {
                if (MMI_fixed_list_menu.highlighted_item == 0) /* highilight on the first item */
                {
                    /* editor do what? */
                    wgui_cat203_set_editor_focus_state(MMI_TRUE);
                    g_wgui_cat203_highlight_handler(WGUI_LIST_INVALID_HIGHLIGHT);
                    wgui_inputs_sl_redraw();
                    
                    /* set menu inactive */
                    wgui_cat203_set_menu_focus_state(MMI_FALSE);
                    dynamic_list_goto_item_no_redraw(0);
                    MMI_fixed_list_menu.highlighted_item = WGUI_LIST_INVALID_HIGHLIGHT;
                    wgui_text_menuitem_reset_scrolling(); /* reset menuitem not to scroll */
                    redraw_dynamic_list();

                    result = MMI_TRUE;
                }
            }
            break;
        case KEY_DOWN_ARROW:
        case KEY_VOL_DOWN: 
            if (wgui_cat203_is_editor_active() == MMI_TRUE)
            {
                /* set menu active*/
                wgui_cat203_set_menu_focus_state(MMI_TRUE);

                /* set editor inactive */
                wgui_cat203_set_editor_focus_state(MMI_FALSE);

                dynamic_list_goto_item_no_redraw(0);
                redraw_dynamic_list();

                wgui_inputs_sl_redraw();
                
                result = MMI_TRUE;
            }
            else if (wgui_cat203_is_menu_active() == MMI_TRUE)/* highlight on menu */
            {
                if (MMI_fixed_list_menu.highlighted_item == MMI_fixed_list_menu.n_items - 1)
                {
                    /* set editor active */
                    wgui_cat203_set_editor_focus_state(MMI_TRUE);
                    g_wgui_cat203_highlight_handler(WGUI_LIST_INVALID_HIGHLIGHT);
                    wgui_inputs_sl_redraw();

                    /* set menu inactive */
                    wgui_cat203_set_menu_focus_state(MMI_FALSE);                    
                    dynamic_list_goto_item_no_redraw(MMI_fixed_list_menu.n_items - 1);
                    MMI_fixed_list_menu.highlighted_item = WGUI_LIST_INVALID_HIGHLIGHT;
                    wgui_text_menuitem_reset_scrolling(); /* reset menuitem not to scroll */
                    redraw_dynamic_list();

                    result = MMI_TRUE;
                }
            }
            break;
        default:
            break; 
    }
    return result;
}
#endif /* #ifndef __MMI_FTE_SUPPORT__ */


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_is_vk_input
 * DESCRIPTION
 *  input by vk or key
 * PARAMETERS
 *  
 * RETURNS
 *  MMI_BOOL
 *****************************************************************************/ 
MMI_BOOL wgui_cat203_is_vk_input(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#ifdef __MMI_TOUCH_SCREEN__
    return g_wgui_cat203_is_vk_input;
#else
    return MMI_FALSE;
#endif
}


#ifdef __MMI_TOUCH_SCREEN__
/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_vk_pen_long_tap_handler
 * DESCRIPTION
 *  pen long tap handler to execute idle APP long tap handler
 *  only support 0~9, #, *
 * PARAMETERS
 *  pos            [IN]        pen postion
 * RETURNS
 *  void
 *****************************************************************************/ 
void wgui_cat203_vk_pen_long_tap_handler(mmi_pen_point_struct point)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    UI_character_type character;
    FuncPtr key_handler = NULL;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#if defined(__MMI_VIRTUAL_KEYBOARD__)
    /* get the character on virtual keyboard */
    wgui_virtual_keyboard_get_current_character(point.x, point.y, &character);
#endif

    /* execute pen lone tap handler of IME */
    if (g_wui_cat203_original_pen_long_tap_handler != NULL)
    {
        g_wui_cat203_original_pen_long_tap_handler(point);
    }

    /* if character is KEY_1 ~ KEY_9, KEY_POUND, KEY_STAR execute idle APP key long press handler */
    if (character >= 0x31 && character <= 0x39)   /* KEY_0 ~ KEY_9 */
    {  
        key_handler = GetKeyHandler((U16)(character - 0x30), KEY_EVENT_LONG_PRESS);
        if (key_handler != NULL)
        {
            g_wgui_cat203_is_vk_input = MMI_TRUE;
            SetkeyInfo((U16)(character - 0x30), KEY_EVENT_LONG_PRESS);
            key_handler();
            g_wgui_cat203_is_vk_input = MMI_FALSE;
        }
    }
    else if (character == 0x23)  /* KEY_POUND */
    {
        key_handler = GetKeyHandler(KEY_POUND, KEY_EVENT_LONG_PRESS);
        if (key_handler != NULL)
        {
            g_wgui_cat203_is_vk_input = MMI_TRUE;
            SetkeyInfo(KEY_POUND, KEY_EVENT_LONG_PRESS);
            key_handler();
            g_wgui_cat203_is_vk_input = MMI_FALSE;
        }
    }
    else if (character == 0x2A)  /* KEY_STAR */
    {
        key_handler = GetKeyHandler(KEY_STAR, KEY_EVENT_LONG_PRESS);
        if (key_handler != NULL)
        {
            SetkeyInfo(KEY_STAR, KEY_EVENT_LONG_PRESS);
            key_handler();
        }
    }    
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_vk_pen_up_handler
 * DESCRIPTION
 *  pen up handler to execute idle APP up handler
 *  only support 0~9, #, *, +, p, w
 * PARAMETERS
 *  pos            [IN]        pen postion
 * RETURNS
 *  void
 *****************************************************************************/ 
void wgui_cat203_vk_pen_up_handler(mmi_pen_point_struct point)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    UI_character_type character;
    FuncPtr key_handler = NULL;
    S32 old_highlight;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#if defined(__MMI_VIRTUAL_KEYBOARD__)
    /* get the character on virtual keyboard */
    wgui_virtual_keyboard_get_current_character(point.x, point.y, &character);
#endif

    /* execute pen up handler of IME */
    if (g_wui_cat203_original_pen_up_handler != NULL)
    {
#ifdef __MMI_FTE_SUPPORT__
        register_dynamic_list_keys();
#endif
        old_highlight = MMI_fixed_list_menu.highlighted_item;
        g_wui_cat203_original_pen_up_handler(point);
        if ((g_dm_data.s32CatId == MMI_CATEGORY203_ID)  && (!wgui_cat203_is_editor_active()))
        {
            MMI_fixed_list_menu.highlighted_item = old_highlight;
            if (MMI_fixed_list_menu.highlighted_item == WGUI_LIST_INVALID_HIGHLIGHT)
            {
                wgui_cat203_set_editor_focus_state(MMI_TRUE);

#ifdef __MMI_FTE_SUPPORT__
                if (!mmi_imc_is_clipboard_state())
                {
                    wgui_inputs_sl_redraw();
                }
#endif
                wgui_cat203_set_menu_focus_state(MMI_FALSE);
            }
        }
    }	

    /* if character key handler is registed by APP, execute idle APP key up handler */
    if (character == 0x23) /* # => KEY_POUND */
    {
        key_handler = GetKeyHandler(KEY_POUND, KEY_EVENT_UP);
        if (key_handler != NULL)
        {
            SetkeyInfo(KEY_POUND, KEY_EVENT_UP);
            key_handler();
            SetkeyInfo(KEY_POUND, MAX_KEY_TYPE);
        }
    }
    else if (character >= 0x30 && character <= 0x39)   /* 0 ~ 9 => KEY_0 ~ KEY_9 */
    {  
        key_handler = GetKeyHandler((character - 0x30), KEY_EVENT_UP);
        if (key_handler != NULL)
        {
            SetkeyInfo((character - 0x30), KEY_EVENT_UP);
            key_handler();
            SetkeyInfo((character - 0x30), MAX_KEY_TYPE);
        }
    }
    else if (character == 0x2A || character == 0x2B || character == 0x70 || character == 0x77) /* multitap: *, +, p, w  => KEY_STAR */
    {  
        key_handler = GetKeyHandler(KEY_STAR, KEY_EVENT_UP);
        if (key_handler != NULL)
        {
            SetkeyInfo(KEY_STAR, KEY_EVENT_UP);
            key_handler();
            SetkeyInfo(KEY_STAR, MAX_KEY_TYPE);
        }
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_virtual_keypad_callback
 * DESCRIPTION
 *  show virtual keypad
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_cat203_virtual_keypad_callback(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    mmi_imc_redraw_screen_by_state();
    
#ifndef __MMI_FTE_SUPPORT__
    if (wgui_cat203_is_editor_active() == MMI_TRUE)
    {            
        register_multiline_inputbox_keys();
    }
    else
    {       
        ClearKeyHandler(KEY_RIGHT_ARROW, KEY_EVENT_DOWN);
        ClearKeyHandler(KEY_LEFT_ARROW, KEY_EVENT_DOWN);
        StopTimer(BLINKING_CURSOR); /* disable cursor */
    }
#endif
}

/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_vk_pause_scolling_callback
 * DESCRIPTION
 *  when vk popup displays, need to pause scolling
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
MMI_BOOL wgui_cat203_vk_pause_scolling_callback(S32 x1, S32 y1, S32 x2, S32 y2)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

#ifdef __MMI_UI_LIST_HIGHLIGHT_EFFECTS__
    extern S32 gblock_list_effect;
#endif /* __MMI_UI_LIST_HIGHLIGHT_EFFECTS__ */ 
    S32 temp;
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (wgui_cat203_is_editor_active() == MMI_FALSE)
    {            
#ifdef __MMI_UI_LIST_HIGHLIGHT_EFFECTS__
        temp = gblock_list_effect;
        gblock_list_effect = 1;
#endif /* __MMI_UI_LIST_HIGHLIGHT_EFFECTS__ */ 
      
        gui_fixed_icontext_menuitem_start_scroll();
#if(UI_ENABLE_POP_UP_DESCRIPTIONS)
        gui_pop_up_description_stop_scroll();
#endif 
        wgui_dynamic_list_show_icontext_menu();
#if(UI_ENABLE_POP_UP_DESCRIPTIONS)		
        gui_pop_up_description_stop_scroll();
#endif
        gui_fixed_icontext_menuitem_stop_scroll();

#ifdef __MMI_UI_LIST_HIGHLIGHT_EFFECTS__
        gblock_list_effect = temp;
#endif /* __MMI_UI_LIST_HIGHLIGHT_EFFECTS__ */ 
        return MMI_TRUE;
    }
    return MMI_FALSE;
}

/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_vk_resume_scolling_callback
 * DESCRIPTION
 *  when vk popup displays, need to resume scolling
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_cat203_vk_resume_scolling_callback(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    //S32 temp;
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (wgui_cat203_is_editor_active() == MMI_FALSE)
    {            
        gui_fixed_icontext_menuitem_start_scroll();
        show_dynamic_list();
    }
}


#ifndef __MMI_FTE_SUPPORT__
/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_controlled_area_pen_down_handler
 * DESCRIPTION
 *  pen down handler
 * PARAMETERS
 *  point            [IN]        pen postion
 * RETURNS
 *  MMI_BOOL
 *****************************************************************************/
MMI_BOOL wgui_cat203_controlled_area_pen_down_handler(mmi_pen_point_struct point)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    MMI_BOOL ret = MMI_FALSE;
    gui_list_pen_enum menu_event;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    MMI_fixed_list_menu.pen_redraw_menu_function = wgui_dynamic_list_show_icontext_menu;
    gui_vertical_scrollbar_set_pen_self_scroll(&MMI_fixed_list_menu.vbar, MMI_TRUE);
    gui_fixed_list_menu_set_pen_scroll_delay(&MMI_fixed_list_menu, /*GUI_DYNAMIC_LIST_PEN_SCROLL_DELAY*/0);

    ret = gui_dynamic_list_menu_translate_pen_event(
            &MMI_fixed_list_menu,
            MMI_PEN_EVENT_DOWN,
            point.x,
            point.y,
            &menu_event);
    if (ret)
    {
        if (menu_event == GUI_LIST_PEN_HIGHLIGHT_CHANGED || menu_event == GUI_LIST_PEN_NEED_REDRAW)
        {
            wgui_cat203_set_menu_focus_state(MMI_TRUE);
            dynamic_list_highlight_handler(MMI_fixed_list_menu.highlighted_item);
            //redraw_dynamic_list();
            MMI_fixed_list_menu.pen_redraw_menu_function();
            wgui_cat203_set_editor_focus_state(MMI_FALSE);
            redraw_multiline_inputbox();
        }
        else if (wgui_cat203_is_editor_active() == MMI_TRUE)
        {
            /* set editor inactive */
            wgui_cat203_set_editor_focus_state(MMI_FALSE);
            redraw_multiline_inputbox();
            /* set menu active and highlight on the first item */
            wgui_cat203_set_menu_focus_state(MMI_TRUE);
            dynamic_list_goto_item_no_redraw(0);
            redraw_dynamic_list();
        }
            
        return MMI_TRUE;
    }
	else
	{
        return MMI_FALSE;
	}
}

#else /* __MMI_FTE_SUPPORT__ */

/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_controlled_area_pen_down_handler
 * DESCRIPTION
 *  pen down handler
 * PARAMETERS
 *  point            [IN]        pen postion
 * RETURNS
 *  MMI_BOOL
 *****************************************************************************/
MMI_BOOL wgui_cat203_controlled_area_pen_down_handler(mmi_pen_point_struct point)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    MMI_BOOL ret = MMI_FALSE;
    gui_list_pen_enum menu_event;
    S32 list_h;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#ifdef __MMI_CLIPBOARD__
    if (mmi_imc_is_clipboard_state())
    {
        return ret;
    }
#endif /* __MMI_CLIPBOARD__ */

    MMI_fixed_list_menu.pen_redraw_menu_function = wgui_dynamic_list_show_icontext_menu;
    gui_vertical_scrollbar_set_pen_self_scroll(&MMI_fixed_list_menu.vbar, MMI_TRUE);
    gui_fixed_list_menu_set_pen_scroll_delay(&MMI_fixed_list_menu, GUI_DYNAMIC_LIST_PEN_SCROLL_DELAY);

    if ((MMI_fixed_list_menu.n_items * MMI_MENUITEM_HEIGHT) > MMI_fixed_list_menu.height)
    {
        list_h = MMI_fixed_list_menu.height;
    }
    else
    {
        list_h = MMI_fixed_list_menu.n_items * MMI_MENUITEM_HEIGHT;
    }
    
#if defined(GUI_LIST_MENU_SMOOTH_SCROLLING_BY_PEN)
    if (PEN_CHECK_BOUND(
            point.x, 
            point.y, 
            MMI_fixed_list_menu.x, 
            MMI_fixed_list_menu.y, 
            MMI_fixed_list_menu.width, 
            list_h))
    {
        if (wgui_cat203_is_editor_active() == MMI_TRUE)
        {
            gui_lock_double_buffer();
            wgui_cat203_set_menu_focus_state(MMI_TRUE);
            dynamic_list_highlight_handler(MMI_fixed_list_menu.highlighted_item);
            wgui_cat203_set_editor_focus_state(MMI_FALSE);
            redraw_singleline_inputbox();
            gui_unlock_double_buffer();
        }
    }
    return MMI_FALSE;
#else
    ClearHighlightHandler();
    ret = gui_dynamic_list_menu_translate_pen_event(
            &MMI_fixed_list_menu,
            MMI_PEN_EVENT_DOWN,
            point.x,
            point.y,
            &menu_event);
    RegisterHighlightHandler(g_wgui_cat203_highlight_handler);
    if (ret)
    {
        if (menu_event == GUI_LIST_PEN_HIGHLIGHT_CHANGED 
            || menu_event == GUI_LIST_PEN_NEED_REDRAW 
            || wgui_cat203_is_editor_active() == MMI_TRUE)
        {
            wgui_cat203_set_menu_focus_state(MMI_TRUE);
            dynamic_list_highlight_handler(MMI_fixed_list_menu.highlighted_item);
            redraw_dynamic_list();
            wgui_cat203_set_editor_focus_state(MMI_FALSE);
            redraw_singleline_inputbox();
        }
        return MMI_TRUE;
    }
    else
    {
        return MMI_FALSE;
    }    
#endif /* GUI_LIST_MENU_SMOOTH_SCROLLING_BY_PEN */
}
#endif /* __MMI_FTE_SUPPORT__ */

/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_controlled_area_pen_up_handler
 * DESCRIPTION
 *  pen up handler
 * PARAMETERS
 *  point            [IN]        pen postion
 * RETURNS
 *  MMI_BOOL
 *****************************************************************************/
MMI_BOOL wgui_cat203_controlled_area_pen_up_handler(mmi_pen_point_struct point)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    MMI_BOOL ret = MMI_FALSE;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_general_pen_dynamic_list_menu_hdlr(point, MMI_PEN_EVENT_UP);
    return ret;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_controlled_area_pen_move_handler
 * DESCRIPTION
 *  pen move handler
 * PARAMETERS
 *  point            [IN]        pen postion
 * RETURNS
 *  MMI_BOOL
 *****************************************************************************/
MMI_BOOL wgui_cat203_controlled_area_pen_move_handler(mmi_pen_point_struct point)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    MMI_BOOL ret = MMI_FALSE;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_general_pen_dynamic_list_menu_hdlr(point, MMI_PEN_EVENT_MOVE);
    return ret;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_controlled_area_pen_long_tap_handler
 * DESCRIPTION
 *  pen long tap handler
 * PARAMETERS
 *  point            [IN]        pen postion
 * RETURNS
 *  MMI_BOOL
 *****************************************************************************/
MMI_BOOL wgui_cat203_controlled_area_pen_long_tap_handler(mmi_pen_point_struct point)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    MMI_BOOL ret = MMI_FALSE;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_general_pen_dynamic_list_menu_hdlr(point, MMI_PEN_EVENT_LONG_TAP);
    return ret;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_controlled_area_pen_repeat_handler
 * DESCRIPTION
 *  pen repeat handler
 * PARAMETERS
 *  point            [IN]        pen postion
 * RETURNS
 *  MMI_BOOL
 *****************************************************************************/ 
MMI_BOOL wgui_cat203_controlled_area_pen_repeat_handler(mmi_pen_point_struct point)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    MMI_BOOL ret = MMI_FALSE;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_general_pen_dynamic_list_menu_hdlr(point, MMI_PEN_EVENT_REPEAT);
    return ret;
}
#endif /* __MMI_TOUCH_SCREEN__ */


#ifndef __MMI_FTE_SUPPORT__
/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_draw_info_string 
 * DESCRIPTION
 *  show info string
 * PARAMETERS
 *  info
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_cat203_draw_info_string(UI_string_type info)
{
    S32 string_width, string_height;
    S32 x, y;
    
    gui_push_text_clip();
    gui_push_clip();

    gui_set_clip(
            CAT203_CONTENT_X,
            CAT203_STRING_Y,
            CAT203_CONTENT_X + CAT203_CONTENT_W - 1,
            CAT203_STRING_Y + CAT203_STRING_H - 1);
    
    gui_draw_filled_area(
            CAT203_CONTENT_X,
            CAT203_STRING_Y,
            CAT203_CONTENT_X + CAT203_CONTENT_W - 1,
            CAT203_STRING_Y + CAT203_STRING_H - 1,
            &string_bg_filler);

    gui_set_font(&MMI_medium_font);
    gui_measure_string(info, &string_width, &string_height);

    if (r2lMMIFlag)
    {
        x = CAT203_CONTENT_X + CAT203_CONTENT_W - 1;
    }
    else
    {
        x = 0;
    }
    y = CAT203_STRING_Y + ((CAT203_STRING_H - string_height)>>1);

    gui_set_text_clip(
        CAT203_CONTENT_X,
        CAT203_STRING_Y,
        CAT203_CONTENT_X + CAT203_CONTENT_W - 1,
        CAT203_STRING_Y + CAT203_STRING_H - 1);

    gui_set_text_color(UI_COLOR_BLACK);
    
    gui_move_text_cursor(x, y);
    gui_set_line_height(string_height);

    if (string_width > CAT203_CONTENT_W)
    {
        gui_print_truncated_text(x, y, string_width, info);
    }
    else
    {
        gui_print_text(info);
    }

    gui_pop_text_clip();
    gui_pop_clip();

}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_draw_ctrl_area2 
 * DESCRIPTION
 *  draw category 203 screen control area 2
 * PARAMETERS
 *  coordinate  [IN/OUT]    coordinate
 * RETURNS
 *  void
 *****************************************************************************/
static void wgui_cat203_draw_ctrl_area2(dm_coordinates *coordinate)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_cat203_draw_info_string(g_info);
}
#endif


#ifdef __MMI_FTE_SUPPORT__
/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_backspace_button_down_handler
 * DESCRIPTION
 *  search button handler.
 * PARAMETERS
 *  history_buffer      [IN]        History buffer
 * RETURNS
 *  hitsory buffer
 *****************************************************************************/
static void wgui_cat203_backspace_button_down_handler(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_inputs_sl_delete_character();
   // gui_start_timer(CAT203_DELETE_ALL_TIMER, wgui_inputs_sl_delete_all_characters);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_backspace_button_repeat_handler
 * DESCRIPTION
 *  search button handler.
 * PARAMETERS
 *  void
 * RETURNS
 *  hitsory buffer
 *****************************************************************************/
static void wgui_cat203_backspace_button_repeat_handler(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (wgui_inputs_sl_is_empty())
    {
        return;
    }

    wgui_inputs_fast_del_nav_handler(WGUI_INPUTS_OPER_FAST_DEL, WGUI_INPUTS_EDITOR_SL, WGUI_INPUTS_TP_REPEAT_PERIOD);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_backspace_button_down_handler
 * DESCRIPTION
 *  search button handler.
 * PARAMETERS
 *  history_buffer      [IN]        History buffer
 * RETURNS
 *  hitsory buffer
 *****************************************************************************/
static void wgui_cat203_backspace_button_up_handler(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_cancel_timer(wgui_inputs_sl_delete_all_characters);
}


extern UI_filled_area* dm_get_current_scr_bg_filler(void);
/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_clear_search_button_bg
 * DESCRIPTION
 *  clear button area.
 * PARAMETERS
 *  button   [IN]   button information
 * RETURNS
 *  void
 *****************************************************************************/
static void wgui_cat203_clear_search_button_bg(void *button)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    icontext_button *b = (icontext_button*) button;
    S32 x1 = b->x;
    S32 y1 = b->y;
    S32 x2 = b->x + b->width - 1;
    S32 y2 = b->y + b->height - 1;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gdi_layer_lock_frame_buffer(); 

    /* draw the background */  
    //gui_fill_rectangle(x1, y1, x2 + 1, y2 + 1, (*(current_MMI_theme->lite_disp_scr_bg_color)));
    
    //To do: use VK background theme after VK's theme is ready.
    //gdi_draw_solid_rect(x1, y1, x2 + 1, y2 + 1, GDI_COLOR_BLACK);
    gdi_layer_push_clip();
    gdi_layer_set_clip(x1, y1, x2, y2);
    gui_draw_filled_area(0, 0, UI_device_width - 1, UI_device_height -1 , dm_get_current_scr_bg_filler());
    gdi_layer_pop_clip();

    gdi_layer_unlock_frame_buffer();
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_backspace_button_down_handler
 * DESCRIPTION
 *  draw pen down of button
 * PARAMETERS
 *  button_object       [IN]        The target button
 * RETURNS
 *  void
 *****************************************************************************/
static MMI_BOOL wgui_cat203_backspace_button_draw_down(void *button_object)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    icontext_button *current_bt;
    GDI_HANDLE act_layer = GDI_NULL_HANDLE;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    current_bt = dm_get_button(g_wgui_cat203_button_id);
    
    if (button_object != (void*)current_bt)
    {
        return MMI_TRUE;
    }
    
    mmi_imc_reset_ime_state();
    
    gdi_layer_get_active(&act_layer);
    
    if (act_layer != GDI_NULL_HANDLE)
    {
        gdi_push_and_set_alpha_blending_source_layer(act_layer);
    }
    gui_icontext_button_show_down_by_pen((void*)current_bt);
    if (act_layer != GDI_NULL_HANDLE)
    {
        gdi_pop_and_restore_alpha_blending_source_layer();
    }
    return MMI_TRUE;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_backspace_button_up_handler
 * DESCRIPTION
 *  draw pen up of button
 * PARAMETERS
 *  button_object       [IN]        The target button
 * RETURNS
 *  void
 *****************************************************************************/
static MMI_BOOL wgui_cat203_backspace_button_draw_up(void *button_object)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    icontext_button *current_bt;
    GDI_HANDLE act_layer = GDI_NULL_HANDLE;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_cancel_timer(wgui_inputs_sl_delete_all_characters);
    current_bt = dm_get_button(g_wgui_cat203_button_id);
    
    if (button_object != (void*)current_bt)
    {
        return MMI_TRUE;
    }
    
    gdi_layer_get_active(&act_layer);
    
    if (act_layer != GDI_NULL_HANDLE)
    {
        gdi_push_and_set_alpha_blending_source_layer(act_layer);
    }
    gui_icontext_button_show_up_by_pen((void*)current_bt);
    if (act_layer != GDI_NULL_HANDLE)
    {
        gdi_pop_and_restore_alpha_blending_source_layer();
    }
    return MMI_TRUE;

}

/*****************************************************************************
* FUNCTION
*  wgui_cat203_draw_virtual_keypad_background
* DESCRIPTION
*  Draw the virtual keypad area by IME.
* PARAMETERS
*  x1      [IN]        start X
*  y1      [IN]        start Y
*  x2      [IN]        end X
*  y2      [IN]        end Y
* RETURNS
*  void
*****************************************************************************/
static void wgui_cat203_draw_virtual_keypad_background(S32 x1, S32 y1, S32 x2, S32 y2)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gdi_layer_push_clip();
    gdi_layer_set_clip(x1, y1, x2, y2);
    gui_fill_rectangle(x1, y1, x2, y2, (gui_color(0, 0, 255)));
    gdi_layer_pop_clip();
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_stop_scroll
 * DESCRIPTION
 *  stop list scrolling text
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
static void wgui_cat203_stop_scroll(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_fixed_icontext_menuitem_stop_scroll();
    gui_pop_up_description_stop_scroll();
    //wgui_dynamic_list_show_icontext_menu();
    //gui_pop_up_description_stop_scroll();
}


/*****************************************************************************
 * FUNCTION
 *  wgui_cat203_resume_scroll
 * DESCRIPTION
 *  resume list scrolling text
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
static void wgui_cat203_resume_scroll(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    //gui_pop_up_description_stop_scroll();
    if ((MMI_fixed_list_menu.n_items > 0) && (MMI_fixed_list_menu.highlighted_item != WGUI_LIST_INVALID_HIGHLIGHT))
    {
        gui_fixed_icontext_menuitem_start_scroll();
    }
    wgui_dynamic_list_show_icontext_menu();
}
#endif /* __MMI_FTE_SUPPORT__ */


/*****************************************************************************
 * FUNCTION
 *  ShowCategory203Screen
 * DESCRIPTION
 *  category screen of orange dialer search
 * PARAMETERS
 *  left_softkey            [IN]        Left soft key label
 *  left_softkey_icon       [IN]        Left soft key icon
 *  right_softkey           [IN]        Right soft key label
 *  right_softkey_icon      [IN]        Right soft key icon
 *  message                 [IN]        Message between singleline inputbox & list menu
 *  number_of_items         [IN]        Number of items
 *  get_item_func           [IN]        Get menu item function
 *  get_hint_func           [IN]        Get menu hint funtion
 *  get_underline_func      [IN]        Get menu underline function
 *  search_func             [IN]        Search result function
 *  input_buffer            [IN]        Buffer for input
 *  input_buffer_max_length [IN]        Max length for input
 *  history_buffer          [IN]        Histpry buffer
 * RETURNS
 *  void
 *****************************************************************************/    
void ShowCategory203Screen(
        UI_string_type left_softkey,
        PU8 left_softkey_icon,
        UI_string_type right_softkey,
        PU8 right_softkey_icon,
        UI_string_type message,
        S32 number_of_items,    
        GetItemFuncPtr get_item_func,
        GetHintFuncPtr get_hint_func,
        GetUnderLineFuncPtr get_underline_func,        
        S32(*search_func) (UI_buffer_type),
        U8 *input_buffer,
        S32 input_buffer_max_length,
        U8 *history_buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    dm_data_struct dm_data;
    U8 h_flag;
    S32 no_entries;
#if defined(__MMI_FTE_SUPPORT__) && defined(__MMI_TOUCH_SCREEN__)
    icontext_button *backspace_bt;
#endif

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#if defined(__MMI_PREFER_WRITING_LANG__) || defined(__MMI_MIXED_LANG_SUPPORT__)
    extern void mmi_imm_reset_user_desired_writing_language();
    mmi_imm_reset_user_desired_writing_language();
#endif
    
    gdi_layer_lock_frame_buffer();
#ifdef __MMI_MAINLCD_128X160__    
    ShowStatusIconsTitle();
#endif
    /* softkey */
    dm_add_softkey(left_softkey, left_softkey_icon, right_softkey, right_softkey_icon);

#ifndef __MMI_FTE_SUPPORT__
    /* string */    
    g_info = message;
#else
#if defined(__MMI_TOUCH_SCREEN__)
    /* setup button */
    g_wgui_cat203_button_id = dm_add_button(
                    NULL,
                    //get_image(IMG_BACKSPACE_BG_NORMAL),
                    //get_image(IMG_BACKSPACE_BG_DOWN),
                    get_image(IMG_CAT203_BS_BUTTON_NORMAL),
                    get_image(IMG_CAT203_BS_BUTTON_DOWN),
                    wgui_cat203_clear_search_button_bg);
    dm_register_button_functions(g_wgui_cat203_button_id, KEY_EVENT_DOWN, wgui_cat203_backspace_button_down_handler);
    dm_register_button_functions(g_wgui_cat203_button_id, KEY_EVENT_UP, wgui_cat203_backspace_button_up_handler);
    dm_register_button_functions(g_wgui_cat203_button_id, KEY_EVENT_LONG_PRESS, wgui_inputs_fast_del_nav_reset_repeat_count);
    dm_register_button_functions(g_wgui_cat203_button_id, KEY_EVENT_REPEAT, wgui_cat203_backspace_button_repeat_handler);
    backspace_bt = dm_get_button(g_wgui_cat203_button_id);
    backspace_bt->draw_down_fp = wgui_cat203_backspace_button_draw_down;
    backspace_bt->draw_up_fp = wgui_cat203_backspace_button_draw_up;
    backspace_bt->flags |= UI_BUTTON_NO_SHIFT_BUTTON;

    /* set VK default value */
    mmi_imc_set_vk_present(MMI_IMC_VK_DEFAULT_ENLARGE);
#endif /* defined(__MMI_TOUCH_SCREEN__) */
#endif

    /* register search function */
    if (search_func != NULL)
    {
        g_wgui_cat203_search_function = search_func;
    }    
    g_wgui_cat203_resize_and_draw_func = wgui_cat203_resize_and_draw;

    /* dynamic icontext list */
    wgui_dynamic_list_create_icontext_menu(
        number_of_items, 
        get_item_func, 
        get_hint_func, 
        WGUI_LIST_INVALID_HIGHLIGHT, 
        MMI_TRUE, 
        UI_dummy_function,
        WGUI_LIST_MENU_DISABLE_SHORTCUT,
        0,
        NULL);
            
    wgui_fixed_list_register_pre_key_handler(wgui_cat203_menu_pre_key_handler);

    wgui_fixed_list_register_get_underline_function(get_underline_func);
       
#ifdef __MMI_TOUCH_SCREEN__
    /* Because the list menu is resized according to virtual keyboard */
    MMI_fixed_list_menu.flags |= UI_LIST_MENU_ALIGN_TO_TOP;
    mmi_imc_disable_handwriting();
#endif /* __MMI_TOUCH_SCREEN__ */ 

#ifndef __MMI_FTE_SUPPORT__
    wgui_dynamic_list_resize_icontext_menu(CAT203_CONTENT_W, CAT203_DYNAMIC_LIST_H);
    wgui_dynamic_list_move_icontext_menu(CAT203_CONTENT_X, CAT203_DYNAMIC_LIST_Y);
#else
    wgui_dynamic_list_resize_icontext_menu(CAT203_DYNAMIC_LIST_W, CAT203_DYNAMIC_LIST_H);
    wgui_dynamic_list_move_icontext_menu(CAT203_DYNAMIC_LIST_X, CAT203_DYNAMIC_LIST_Y);
#endif    
    resize_dynamic_icontext_menuitems_to_list_width();

#ifdef __MMI_UI_LIST_HIGHLIGHT_EFFECTS__
    gui_block_list_effect();
#endif /* __MMI_UI_LIST_HIGHLIGHT_EFFECTS__ */

#ifdef GUI_INPUT_BOX_CACHE_SUPPORT
    gui_inputs_cache_switch(1);
#endif

    h_flag = set_list_menu_category_history(MMI_CATEGORY203_ID, history_buffer);
    if (!h_flag) /* initial */
    {
        /* menu */
        wgui_cat203_set_menu_focus_state(MMI_FALSE);
        dynamic_list_goto_item_no_redraw(0);
        
#ifndef __MMI_FTE_SUPPORT__
        /* multiline inputbox */ 
        wgui_inputs_ml_setup(
                    CAT203_CONTENT_X,
                    CAT203_MULTI_LINE_INPUTBOX_Y,
                    CAT203_CONTENT_W,
                    CAT203_MULTI_LINE_INPUTBOX_H,
                    input_buffer,
                    input_buffer_max_length,
                    MMI_CATEGORY203_ID,
                    right_softkey,
                    right_softkey_icon,
		            IMM_INPUT_TYPE_PHONE_NUMBER | INPUT_TYPE_PLUS_CHARACTER_HANDLING,
                    NULL,
                    0);
    #ifdef __MMI_EDITOR_MULTILINE_DIALER_STYLE_SUPPORT__
        /* Set dialer style */
        wgui_inputs_ml_set_style(UI_MULTI_LINE_INPUT_BOX_DISABLE_SCROLLBAR, GUI_MULTI_LINE_INPUT_BOX_DIALER_STYLE);
    #endif
        wgui_cat203_set_editor_focus_state(MMI_TRUE);

        /* need to redraw dynamic list when "input_buffer" has been entered
            (number has been dialed before 'dialer search' switches on)*/ 
        if (g_wgui_cat203_search_function)
        {
            no_entries = g_wgui_cat203_search_function((U8*) MMI_multiline_inputbox.text);
            init_dynamic_item_buffer(no_entries, dynamic_item_buffer.load_func, dynamic_item_buffer.hint_func, UI_dummy_function);
            MMI_fixed_list_menu.n_items = no_entries;
            dynamic_list_goto_item_no_redraw(0);
            redraw_dynamic_list();
        }
#else  /* __MMI_FTE_SUPPORT__ */
       /* singleline inputbox */ 
        wgui_inputs_sl_disable_up_down_key_register(MMI_TRUE);
        wgui_inputs_sl_setup(
                    CAT203_SL_INPUTBOX_X,
                    CAT203_SL_INPUTBOX_Y,
                    CAT203_SL_INPUTBOX_W,
                    CAT203_SL_INPUTBOX_H,
                    input_buffer,
                    input_buffer_max_length,
                    MMI_CATEGORY203_ID,
                    right_softkey,
                    right_softkey_icon,
                    IMM_INPUT_TYPE_PHONE_NUMBER,////revise by Praney's patch
                    NULL,
                    0);

        gui_inputs_register_redraw_background_filler(wgui_cat203_draw_virtual_keypad_background);

        /* need to redraw dynamic list when "input_buffer" has been entered
            (number has been dialed before 'dialer search' switches on)*/ 
        if (g_wgui_cat203_search_function)
        {
            no_entries = g_wgui_cat203_search_function((U8*) MMI_singleline_inputbox.text);
            init_dynamic_item_buffer(no_entries, dynamic_item_buffer.load_func, dynamic_item_buffer.hint_func, UI_dummy_function);
            MMI_fixed_list_menu.n_items = no_entries;
            dynamic_list_goto_item_no_redraw(0);
            redraw_dynamic_list();
        }
        
#endif  /* __MMI_FTE_SUPPORT__ */    
    }
    else
    {  
        S32 s = sizeof(list_menu_category_history);
        s = (s + 3) / 4;
        s *= 4;

#ifndef __MMI_FTE_SUPPORT__
        /* multiline inputbox */
        wgui_inputs_ml_setup(
                    CAT203_CONTENT_X,
                    CAT203_MULTI_LINE_INPUTBOX_Y,
                    CAT203_CONTENT_W,
                    CAT203_MULTI_LINE_INPUTBOX_H,
                    input_buffer,
                    input_buffer_max_length,
                    MMI_CATEGORY203_ID,
                    get_string(STR_GLOBAL_BACK),
                    right_softkey_icon,
		            IMM_INPUT_TYPE_PHONE_NUMBER | INPUT_TYPE_PLUS_CHARACTER_HANDLING,
                    (U8*) (history_buffer + s),
                    0);
        
    #ifdef __MMI_EDITOR_MULTILINE_DIALER_STYLE_SUPPORT__
        /* Set dialer style */
        wgui_inputs_ml_set_style(UI_MULTI_LINE_INPUT_BOX_DISABLE_SCROLLBAR, GUI_MULTI_LINE_INPUT_BOX_DIALER_STYLE);
    #endif
        
        if (wgui_cat203_is_editor_active() == MMI_TRUE)  /* highlight on editor */
        {
            wgui_cat203_set_editor_focus_state(MMI_TRUE);
            wgui_cat203_set_menu_focus_state(MMI_FALSE);
            dynamic_list_goto_item_no_redraw(0);
        }
        else /* highlight on menu */
        {
            wgui_cat203_set_editor_focus_state(MMI_FALSE);
            wgui_cat203_set_menu_focus_state(MMI_TRUE);
        }
        
        if (g_wgui_cat203_search_function)
        {
            no_entries = g_wgui_cat203_search_function((U8*) MMI_multiline_inputbox.text);
            init_dynamic_item_buffer(no_entries, dynamic_item_buffer.load_func, dynamic_item_buffer.hint_func, UI_dummy_function);
            MMI_fixed_list_menu.n_items = no_entries;
            wgui_dynamic_list_resize_icontext_menu(MMI_fixed_list_menu.width, MMI_fixed_list_menu.height - wgui_inputs_get_current_imui_height(MMI_EDITOR_MULTILINE_INPUT_BOX));
            dynamic_list_goto_item_no_redraw(MMI_fixed_list_menu.highlighted_item);
            if (no_entries == 0)  /* when no result, highlight should back to editor */
            {
                wgui_cat203_set_editor_focus_state(MMI_TRUE);
                wgui_cat203_set_menu_focus_state(MMI_FALSE);
                dynamic_list_goto_item_no_redraw(0);
            }
            redraw_dynamic_list();
        }
#else  /* __MMI_FTE_SUPPORT__ */
        /* singleline inputbox */
        wgui_inputs_sl_disable_up_down_key_register(MMI_TRUE);
        wgui_inputs_sl_setup(
                    CAT203_SL_INPUTBOX_X,
                    CAT203_SL_INPUTBOX_Y,
                    CAT203_SL_INPUTBOX_W,
                    CAT203_SL_INPUTBOX_H,
                    input_buffer,
                    input_buffer_max_length,
                    MMI_CATEGORY203_ID,
                    right_softkey,
                    right_softkey_icon,
                    IMM_INPUT_TYPE_PHONE_NUMBER,
                    (U8*) (history_buffer + s),
                    0);
        gui_inputs_register_redraw_background_filler(wgui_cat203_draw_virtual_keypad_background);

        if (wgui_cat203_is_editor_active() == MMI_TRUE)  /* highlight on editor */
        {
            wgui_cat203_set_editor_focus_state(MMI_TRUE);
            wgui_cat203_set_menu_focus_state(MMI_FALSE);
            dynamic_list_goto_item_no_redraw(0);
        }
        else /* highlight on menu */
        {
            wgui_cat203_set_editor_focus_state(MMI_FALSE);
            wgui_cat203_set_menu_focus_state(MMI_TRUE);
        }

        if (g_wgui_cat203_search_function)
        {
            no_entries = g_wgui_cat203_search_function((U8*) MMI_singleline_inputbox.text);
            init_dynamic_item_buffer(no_entries, dynamic_item_buffer.load_func, dynamic_item_buffer.hint_func, UI_dummy_function);
            MMI_fixed_list_menu.n_items = no_entries;
            wgui_dynamic_list_resize_icontext_menu(MMI_fixed_list_menu.width, MMI_fixed_list_menu.height - wgui_inputs_get_current_imui_height(MMI_EDITOR_MULTILINE_INPUT_BOX));
            dynamic_list_goto_item_no_redraw(MMI_fixed_list_menu.highlighted_item);
            set_list_menu_category_history(MMI_CATEGORY203_ID, history_buffer);
            if (no_entries == 0)  /* when no result, highlight should back to editor */
            {
                wgui_cat203_set_editor_focus_state(MMI_TRUE);
                wgui_cat203_set_menu_focus_state(MMI_FALSE);
                dynamic_list_goto_item_no_redraw(0);
            }
            redraw_dynamic_list();
        }
#endif  /* __MMI_FTE_SUPPORT__ */
    }

#ifndef __MMI_FTE_SUPPORT__
    /* multiline inputbox callback */
    wgui_inputs_ml_register_input_callback(wgui_cat203_multiline_inputbox_input_callback);
    wgui_inputs_ml_register_navigate_callback(wgui_cat203_multiline_inputbox_input_callback);
    wgui_inputs_ml_register_pre_key_handler(wgui_cat203_editor_pre_key_handler);
    
    /* In order to in keeping with dialer behavior (when the first character is "+", buffer should be inserted 41 characters) */
    MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_PLUS_CHARACTER_HANDLING;
    MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_AUTO_DISABLE_SCROLLBAR;
#else  /* __MMI_FTE_SUPPORT__ */
    /* singleline inputbox callback */
    wgui_inputs_sl_register_input_callback(wgui_cat203_singleline_inputbox_input_callback);
    wgui_inputs_sl_register_navigate_callback(wgui_cat203_singleline_inputbox_input_callback);
    RegisterHighlightHandler(g_wgui_cat203_highlight_handler);

    /* In order to in keeping with dialer behavior (when the first character is "+", buffer should be inserted 41 characters) */
    MMI_singleline_inputbox.flags |= UI_SINGLE_LINE_INPUT_BOX_PLUS_CHARACTER_HANDLING;
#endif  /* __MMI_FTE_SUPPORT__ */

#if (defined __MMI_TOUCH_SCREEN__)
    /* disable IME to process center softkey, center softkey will reserve for APP */	
	if (g_wgui_cat203_enable_center_softkey == MMI_TRUE)
	{
		mmi_imc_disable_csk();
        EnableCenterSoftkey(g_wgui_cat203_center_string, g_wgui_cat203_center_icon);
	}
#endif /* (defined __MMI_TOUCH_SCREEN__) */


#if defined(__MMI_COSMOS_KEYPAD_SUPPORT_VK__)
mmi_imc_set_slider_status(OPEN);
#endif /*__MMI_COSMOS_KEYPAD_SUPPORT_VK__*/



#ifdef __MMI_FTE_SUPPORT__
    if (wgui_cat203_is_editor_active() == MMI_TRUE)
    {
        g_wgui_cat203_highlight_handler(WGUI_LIST_INVALID_HIGHLIGHT);
    }
    else if (wgui_cat203_is_menu_active() == MMI_TRUE)
    {
        g_wgui_cat203_highlight_handler(MMI_fixed_list_menu.highlighted_item);
    }
    
    wgui_icon_bar_register_pause_interactive_UI_callback(wgui_cat203_stop_scroll);
    wgui_icon_bar_register_resume_interactive_UI_callback(wgui_cat203_resume_scroll);

#endif 
    gdi_layer_unlock_frame_buffer();
    
    ExitCategoryFunction = ExitCategory203Screen;
    dm_setup_category_functions(dm_redraw_category_screen, GetCategory203History, GetCategory203HistorySize);    

#ifndef __MMI_FTE_SUPPORT__
    dm_register_category_controlled2_callback(wgui_cat203_draw_ctrl_area2);
#endif

    dm_data.s32ScrId = (S32) GetActiveScreenId();
    dm_data.s32CatId = MMI_CATEGORY203_ID;
    dm_data.s32flags = DM_CLEAR_SCREEN_BACKGROUND;
#ifdef __MMI_VIRTUAL_KEYBOARD__
    dm_data.s32flags |= DM_SHOW_VKPAD;
    dm_register_vkpad_callback(wgui_cat203_virtual_keypad_callback);
    wgui_virtual_keyboard_register_blink_cursor_callback(wgui_cat203_vk_resume_scolling_callback);
    wgui_virtual_keyboard_register_hide_cursor_callback(wgui_cat203_vk_pause_scolling_callback); 
#else 
    #ifdef __MMI_FTE_SUPPORT__
        dm_data.s32flags |= DM_SHOW_VKPAD;
        dm_register_vkpad_callback(mmi_imc_redraw_screen_by_state);
    #endif    
#endif 
    dm_setup_data(&dm_data);

#ifdef __MMI_TOUCH_SCREEN__
    wgui_register_category_screen_control_area_pen_handlers(
        wgui_cat203_controlled_area_pen_down_handler, 
        MMI_PEN_EVENT_DOWN);
    wgui_register_category_screen_control_area_pen_handlers(
        wgui_cat203_controlled_area_pen_up_handler, 
        MMI_PEN_EVENT_UP);
    wgui_register_category_screen_control_area_pen_handlers(
        wgui_cat203_controlled_area_pen_move_handler,
        MMI_PEN_EVENT_MOVE);
    wgui_register_category_screen_control_area_pen_handlers(
        wgui_cat203_controlled_area_pen_long_tap_handler,
        MMI_PEN_EVENT_LONG_TAP);
    wgui_register_category_screen_control_area_pen_handlers(
        wgui_cat203_controlled_area_pen_repeat_handler,
        MMI_PEN_EVENT_REPEAT);

    /* take pen up and pen long tap handler, and register a new handler */
    g_wui_cat203_original_pen_long_tap_handler = mmi_pen_get_pen_handler(MMI_PEN_EVENT_LONG_TAP);
    g_wui_cat203_original_pen_up_handler = mmi_pen_get_pen_handler(MMI_PEN_EVENT_UP);
    mmi_pen_register_long_tap_handler(wgui_cat203_vk_pen_long_tap_handler);
    mmi_pen_register_up_handler(wgui_cat203_vk_pen_up_handler);

#endif /* __MMI_TOUCH_SCREEN__ */ 
    dm_redraw_category_screen();
}


/*****************************************************************************
 * FUNCTION
 *  ExitCategory203Screen
 * DESCRIPTION
 *  exit function of category203
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void ExitCategory203Screen(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/  
#if (defined __MMI_TOUCH_SCREEN__)
	g_wgui_cat203_enable_center_softkey = MMI_FALSE;
	g_wgui_cat203_center_string = 0;
	g_wgui_cat203_center_icon = 0;
#endif /* (defined __MMI_TOUCH_SCREEN__) */

    /* enable loop menu */
    MMI_fixed_list_menu.flags |= UI_LIST_MENU_LOOP;

    ClearHighlightHandler();
    reset_fixed_list();
    reset_dynamic_list();
    reset_pop_up_descriptions();
#ifndef __MMI_FTE_SUPPORT__
    wgui_inputs_ml_close();
#else
    /* set VK default value */
    mmi_imc_set_vk_present(MMI_IMC_VK_PRESENT_DEFAULT);
    wgui_inputs_sl_close();
    g_wgui_cat203_highlight_handler = NULL;
#endif

    g_wgui_cat203_search_function = NULL; 
    g_wgui_cat203_resize_and_draw_func = NULL;
#ifdef __MMI_TOUCH_SCREEN__
    g_wui_cat203_original_pen_long_tap_handler = NULL;
    g_wui_cat203_original_pen_up_handler = NULL;    
#endif /* __MMI_TOUCH_SCREEN__ */

#ifdef __MMI_UI_HINTS_IN_MENUITEM__
    reset_all_force_flags_for_hints();
#endif /* __MMI_UI_HINTS_IN_MENUITEM__ */ 
#ifdef __MMI_UI_LIST_HIGHLIGHT_EFFECTS__
    gui_unblock_list_effect();
#endif /* __MMI_UI_LIST_HIGHLIGHT_EFFECTS__ */
#ifdef GUI_INPUT_BOX_CACHE_SUPPORT
    gui_inputs_cache_switch(0);
#endif
}


/*****************************************************************************
 * FUNCTION
 *  GetCategory203HistorySize
 * DESCRIPTION
 *  Gets the history size of category203
 * PARAMETERS
 *  void
 * RETURNS
 *  S32
 *****************************************************************************/
S32 GetCategory203HistorySize(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#ifdef __MMI_FTE_SUPPORT__
    return (((sizeof(list_menu_category_history) + 3) / 4) * 4 + sizeof(singleline_inputbox_category_history));
#else
    return (((sizeof(list_menu_category_history) + 3) / 4) * 4 + sizeof(multiline_inputbox_category_history));
#endif
}


/*****************************************************************************
 * FUNCTION
 *  GetCategory203History
 * DESCRIPTION
 *  Gets the history buffer of category203
 * PARAMETERS
 *  history_buffer     [OUT]     Is the buffer into which the history data is stored
 * RETURNS
 *  return history buffer
 *****************************************************************************/
U8 *GetCategory203History(U8 *history_buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 s;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    get_list_menu_category_history(MMI_CATEGORY203_ID, history_buffer);
    s = sizeof(list_menu_category_history);
    s = (s + 3) / 4;
    s *= 4;
#ifdef __MMI_FTE_SUPPORT__
    wgui_inputs_sl_get_category_history(MMI_CATEGORY203_ID, (U8*) (history_buffer + s));
#else
    wgui_inputs_ml_get_category_history(MMI_CATEGORY203_ID, (U8*) (history_buffer + s));
#endif
    return (history_buffer);
}
#endif /* __MMI_CAT203_SUPPORT__ */


