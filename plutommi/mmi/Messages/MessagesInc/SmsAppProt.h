/*****************************************************************************
*  Copyright Statement:
*  --------------------
*  This software is protected by Copyright and the information contained
*  herein is confidential. The software may not be copied and the information
*  contained herein may not be used or disclosed except with the written
*  permission of MediaTek Inc. (C) 2005
*
*  BY OPENING THIS FILE, BUYER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
*  THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("MEDIATEK SOFTWARE")
*  RECEIVED FROM MEDIATEK AND/OR ITS REPRESENTATIVES ARE PROVIDED TO BUYER ON
*  AN "AS-IS" BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES,
*  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF
*  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NONINFRINGEMENT.
*  NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY WHATSOEVER WITH RESPECT TO THE
*  SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY, INCORPORATED IN, OR
*  SUPPLIED WITH THE MEDIATEK SOFTWARE, AND BUYER AGREES TO LOOK ONLY TO SUCH
*  THIRD PARTY FOR ANY WARRANTY CLAIM RELATING THERETO. MEDIATEK SHALL ALSO
*  NOT BE RESPONSIBLE FOR ANY MEDIATEK SOFTWARE RELEASES MADE TO BUYER'S
*  SPECIFICATION OR TO CONFORM TO A PARTICULAR STANDARD OR OPEN FORUM.
*
*  BUYER'S SOLE AND EXCLUSIVE REMEDY AND MEDIATEK'S ENTIRE AND CUMULATIVE
*  LIABILITY WITH RESPECT TO THE MEDIATEK SOFTWARE RELEASED HEREUNDER WILL BE,
*  AT MEDIATEK'S OPTION, TO REVISE OR REPLACE THE MEDIATEK SOFTWARE AT ISSUE,
*  OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE CHARGE PAID BY BUYER TO
*  MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT ISSUE. 
*
*  THE TRANSACTION CONTEMPLATED HEREUNDER SHALL BE CONSTRUED IN ACCORDANCE
*  WITH THE LAWS OF THE STATE OF CALIFORNIA, USA, EXCLUDING ITS CONFLICT OF
*  LAWS PRINCIPLES.  ANY DISPUTES, CONTROVERSIES OR CLAIMS ARISING THEREOF AND
*  RELATED THERETO SHALL BE SETTLED BY ARBITRATION IN SAN FRANCISCO, CA, UNDER
*  THE RULES OF THE INTERNATIONAL CHAMBER OF COMMERCE (ICC).
*
*****************************************************************************/

/*****************************************************************************
 *
 * Filename:
 * ---------
 *  SmsAppProt.h
 *
 * Project:
 * --------
 *  MAUI
 *
 * Description:
 * ------------
 *  SMS Application Internal prototype header file
 *
 * Author:
 * -------
 * -------
 *
 *============================================================================
 *             HISTORY
 * Below this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *------------------------------------------------------------------------------
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 *------------------------------------------------------------------------------
 * Upper this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *============================================================================
 *****************************************************************************/
#ifndef __SMS_APP_PROT_H__
#define __SMS_APP_PROT_H__
#include "MMI_features.h"
#include "MMIDataType.h"
#include "kal_general_types.h"
#include "SmsSrvGprot.h"
#include "ems.h"
#include "mmi_frm_events_gprot.h"
#include "gui_data_types.h"
#include "UmSrvDefs.h"

#include "SmsGuiInterfaceType.h"
#include "SmsAppGProt.h"
#include "SmsAppType.h"
#include "MenuCuiGprot.h"
#ifdef __MMI_NCENTER_SUPPORT__
#include "umncentergprot.h"
#endif

#define MMI_MSG_POPUP_TIME_OUT              UI_POPUP_NOTIFYDURATION_TIME_2000
#define MMI_SMS_POPUP_TIME_OUT              UI_POPUP_NOTIFYDURATION_TIME_2000
#define MMI_SMS_PROGRESS_TIME_OUT           1000*50

#define MMI_SMS_MAX_TIMESTAMP_SIZE          12

#define MMI_SMS_MAX_BUFF_SIZE               2048

#if (MMI_MAX_SIM_NUM == 1)
#define MMI_SMS_MAX_MSG_WAITING_ICON             15
#elif (MMI_MAX_SIM_NUM == 2)
#define MMI_SMS_MAX_MSG_WAITING_ICON             30
#elif (MMI_MAX_SIM_NUM == 3)
#define MMI_SMS_MAX_MSG_WAITING_ICON             45
#elif (MMI_MAX_SIM_NUM == 4)
#define MMI_SMS_MAX_MSG_WAITING_ICON             60
#endif

#if defined(__MMI_SLIM_IMG_RES__) && (MMI_MAX_SIM_NUM <= 2)
#ifdef __MMI_STATUS_ICON_BAR_SLIM__
#define MMI_SMS_MSG_WAITING_FLAG_NUM             2
#else
#define MMI_SMS_MSG_WAITING_FLAG_NUM             10
#endif
#else
#define MMI_SMS_MSG_WAITING_FLAG_NUM             15
#endif

extern msg_context_struct g_msg_cntx;

extern mmi_sms_context_struct g_sms_cntx;

extern mmi_sms_class0_info_struct g_class0_sms_info;

extern MMI_ID g_sms_gid;
extern MMI_ID g_sms_parent_gid;

extern MMI_BOOL g_sms_resend_by_local;

typedef struct
{
    mmi_id menu_cui_gid;
    mmi_menu_id highlighted_menu_id;
    U8 highlighted_item_id;
}mmi_sms_menu_cui_data_struct;

#ifdef __MMI_NCENTER_SUPPORT__
typedef enum
{
    MMI_SMS_NCENTER_ID_PHONE_FULL = MMI_UM_UI_NCENTER_SMS_BASE + 1,
    MMI_SMS_NCENTER_ID_SIM_FULL,

    MMI_SMS_NCENTER_ID_UNREAD_VOICE_LINE1,
    MMI_SMS_NCENTER_ID_UNREAD_VOICE_LINE2,
    MMI_SMS_NCENTER_ID_UNREAD_FAX,
    MMI_SMS_NCENTER_ID_UNREAD_EMAIL,
    MMI_SMS_NCENTER_ID_UNREAD_NET,
    MMI_SMS_NCENTER_ID_UNREAD_VIDEO,
#if (MMI_MAX_SIM_NUM >= 2)
    MMI_SMS_NCENTER_ID_SIM2_UNREAD_VOICE_LINE1,
    MMI_SMS_NCENTER_ID_SIM2_UNREAD_VOICE_LINE2,
    MMI_SMS_NCENTER_ID_SIM2_UNREAD_FAX,
    MMI_SMS_NCENTER_ID_SIM2_UNREAD_EMAIL,
    MMI_SMS_NCENTER_ID_SIM2_UNREAD_NET,
    MMI_SMS_NCENTER_ID_SIM2_UNREAD_VIDEO,
#endif
#if (MMI_MAX_SIM_NUM >= 3)
	MMI_SMS_NCENTER_ID_SIM3_UNREAD_VOICE_LINE1,
	MMI_SMS_NCENTER_ID_SIM3_UNREAD_VOICE_LINE2,
	MMI_SMS_NCENTER_ID_SIM3_UNREAD_FAX,
	MMI_SMS_NCENTER_ID_SIM3_UNREAD_EMAIL,
	MMI_SMS_NCENTER_ID_SIM3_UNREAD_NET,
	MMI_SMS_NCENTER_ID_SIM3_UNREAD_VIDEO,
#endif
#if (MMI_MAX_SIM_NUM >= 4)
	MMI_SMS_NCENTER_ID_SIM4_UNREAD_VOICE_LINE1,
	MMI_SMS_NCENTER_ID_SIM4_UNREAD_VOICE_LINE2,
	MMI_SMS_NCENTER_ID_SIM4_UNREAD_FAX,
	MMI_SMS_NCENTER_ID_SIM4_UNREAD_EMAIL,
	MMI_SMS_NCENTER_ID_SIM4_UNREAD_NET,
	MMI_SMS_NCENTER_ID_SIM4_UNREAD_VIDEO,
#endif

    MMI_SMS_NCENTER_ID_MAX
}mmi_sms_ncenter_entry_id_enum;
#endif


/**************************************************************
* Editor Highlight Handler Function
**************************************************************/


/**************************************************************
* Add Recipient Highlight Handler Function
**************************************************************/


/**************************************************************
* Msgbox List Options Highlight Handler Function
**************************************************************/


/**************************************************************
* Msg Viewer Options Highlight Handler Function
**************************************************************/

/**************************************************************
* Misc Highlight Handler Function
**************************************************************/

/**************************************************************
* Templates Highlight Handler Function
**************************************************************/
extern void mmi_sms_save_view_content_as_template(void);

/**************************************************************
* Common UI Function
**************************************************************/
extern void mmi_sms_entry_confirm_generic(U16 text_id, FuncPtr lskfunc, FuncPtr rskfunc);

extern void mmi_sms_entry_menu_cui_options_generic(mmi_id parent_gid, MMI_MENU_ID menu_id, U16 title_id);
extern void mmi_sms_entry_menu_cui_appsub_generic(MMI_ID parent_gid, MMI_MENU_ID menu_id, U16 title_id);


/**************************************************************
* Edit And Send Function
**************************************************************/
extern void mmi_sms_entry_write_msg(mmi_sms_send_case_enum send_msg_case);
#ifndef __MMI_UNIFIED_COMPOSER__    
extern void mmi_sms_pre_entry_add_recipient(MMI_BOOL is_hide_save_menu);
#endif /* __MMI_UNIFIED_COMPOSER__ */
extern MMI_BOOL mmi_sms_append_recipient(S8 *ucs2_addr);
extern U16 mmi_sms_add_addr_list_to_recipient(S8 **ucs2_addr_list, U16 addr_count);
extern void mmi_sms_remove_all_recipient(void);
extern void mmi_sms_reset_recipient_data(void);

#if !defined(__MMI_UNIFIED_COMPOSER__) && defined(__MMI_MSG_EDITOR_WITH_RECIPIENT__)
extern void mmi_sms_init_recipient_buffer(void);
extern U16 mmi_sms_get_recipient_num(void);
extern S8* mmi_sms_get_recipient_name_buffer(U8 index);
extern U16 mmi_sms_check_recipient_number(U16 num);
extern MMI_BOOL mmi_sms_update_recipient_name_number(U16 index, S8 *ucs2_addr, U16 offset);
extern MMI_BOOL mmi_sms_delete_recipient_number(U16 index);
extern MMI_BOOL mmi_sms_add_recipient_number(U16 index, S8 *ucs2_addr);
extern MMI_BOOL mmi_sms_add_recipient(S8 *ucs2_name, S8 *ucs2_addr);
extern MMI_BOOL mmi_sms_adjust_recipient_number(U16 index);
extern void mmi_sms_set_recipient_number_flag(U16 num);
extern MMI_BOOL mmi_sms_get_recipient_validy(U16 index);
extern U16 mmi_sms_add_many_addr_to_recipient(S8 **ucs2_addr_list, U16 addr_count);
extern void mmi_sms_set_recipient_validy(U16 index, MMI_BOOL is_valid);
extern void mmi_sms_set_recipient_edit_flag(U16 index, U16 editor_flags, MMI_BOOL is_set_cat);
extern U16 mmi_sms_get_recipient_edit_flag(U16 index);
extern void mmi_sms_set_highlight_region(U8 highlight_state);
extern U16 mmi_sms_get_recipient_name(U16 index, U16* name);
#endif /* !defined(__MMI_UNIFIED_COMPOSER__) && defined(__MMI_MSG_EDITOR_WITH_RECIPIENT__) */

extern void mmi_sms_set_send_msg_case(mmi_sms_send_case_enum send_msg_case);
extern mmi_sms_send_case_enum mmi_sms_get_send_msg_case(void);

#ifdef __MMI_MESSAGES_SMS_EMAIL__
extern void mmi_sms_set_send_type(mmi_sms_msg_type_enum send_type);
extern mmi_sms_msg_type_enum mmi_sms_get_send_type(void);
extern mmi_sms_msg_type_enum mmi_sms_get_preferred_msg_type(void);
void mmi_msg_remove_email_address_from_text_only_msgtxt(S8 *data, U16 text_length);
#endif /* __MMI_MESSAGES_SMS_EMAIL__ */

#ifdef __MMI_DUAL_SIM_MASTER__
/* under construction !*/
#endif /* __MMI_DUAL_SIM_MASTER__ */

extern MMI_BOOL mmi_sms_get_is_sent(void);
extern void mmi_sms_set_is_sent_false(void);

#if defined(__MMI_UNIFIED_COMPOSER__) || defined(__MMI_MMS_STANDALONE_COMPOSER__)
extern void mmi_sms_entry_uc(mmi_sms_uc_data_struct *uc_data);
#endif /* defined(__MMI_UNIFIED_COMPOSER__) || defined(__MMI_MMS_STANDALONE_COMPOSER__) */


#ifdef __MMI_UNIFIED_COMPOSER__
extern void mmi_sms_write_msg_by_uc(void);
#else /* __MMI_UNIFIED_COMPOSER__ */
extern void mmi_sms_pre_entry_editor(void);
extern void mmi_sms_entry_editor(void);
#endif /* __MMI_UNIFIED_COMPOSER__ */

#if defined(__MMI_MMS_STANDALONE_COMPOSER__) || defined(__MMI_UNIFIED_COMPOSER__)
extern void mmi_sms_send_one_mms(
                S8 *ucs2_addr
            #if (MMI_MAX_SIM_NUM >= 2)
                , srv_sms_sim_enum sim_id
            #endif /* (MMI_MAX_SIM_NUM >= 2) */
            #ifdef __MMI_MESSAGES_SMS_EMAIL__
                , mmi_sms_address_type_enum addr_type
            #endif /* __MMI_MESSAGES_SMS_EMAIL__ */
                );
#endif /* defined(__MMI_MMS_STANDALONE_COMPOSER__) && defined(__MMI_UNIFIED_COMPOSER__) */


/**************************************************************
* Msgbox List Options Function
**************************************************************/
#if defined(__MMI_OP11_HOMESCREEN__) || defined(__MMI_VUI_HOMESCREEN__)
extern void mmi_sms_pre_entry_recent_list_option(MMI_ID parent_gid);
#endif /* __MMI_OP11_HOMESCREEN__ || __MMI_VUI_HOMESCREEN__*/


/**************************************************************
* Viewer Function
**************************************************************/
extern void mmi_sms_entry_viewer(void);
extern void mmi_sms_view_curr_msg(void);

/**************************************************************
* Setting Function
**************************************************************/
extern void mmi_sms_pre_entry_msg_settings(void);

/**************************************************************
* Misc Function
**************************************************************/
extern void mmi_sms_pre_entry_use_detail_list(mmi_msg_addr_type_enum type, S8* pText, U16 txtlen);
extern void mmi_sms_pre_entry_use_detail_list_ext(mmi_msg_addr_type_enum type, S8* pText, U16 txtlen, S8 *address);
extern void mmi_sms_entry_use_detail_list_ext(mmi_msg_addr_type_enum type);
extern U8 mmi_sms_get_addr_list_from_msgtxt_ext(S8 *text, U16 text_len, U8 addr_type, S8 *addrsss, MMI_BOOL is_continue);
extern U16 mmi_sms_get_no_addr_notify_string(mmi_msg_addr_type_enum type);

extern void mmi_sms_class0_opt_save_to_inbox(srv_sms_sim_enum sim_id);
extern void mmi_msg_entry_class0_msg_ind(void);
#ifdef __MMI_DUAL_SIM_MASTER__
/* under construction !*/
#endif /* __MMI_DUAL_SIM_MASTER__ */


extern void* mmi_sms_malloc(kal_uint32 size);
extern void mmi_sms_free(void* p);
extern void mmi_sms_use_ussd_pre_edit(MMI_ID parent_gid);
#if defined(__MMI_EMAIL__) || (defined(__MMI_PHB_OPTIONAL_FIELD__))
extern void mmi_sms_use_email_save_email(MMI_ID group_id);
#endif /* defined(__MMI_EMAIL__) || (defined(__MMI_MESSAGE_SMS_HILITE_VIEWER__) && defined(__MMI_PHB_OPTIONAL_FIELD__)) */

#if defined(__MMI_MESSAGE_SMS_HILITE_VIEWER__)
extern void mmi_sms_view_hilite_opt_pre_entry_hdlr(MMI_ID parent_gid,S32 idx);
extern void mmi_sms_parse_hilite_list(EMSData *pEmsData, MMI_BOOL isClass0);
extern void mmi_sms_check_hilite_item_opt(MMI_ID menu_gid);
extern void mmi_sms_use_detail_hilite_info(MMI_ID parent_gid, S32 idx);
#endif /* __MMI_MESSAGE_SMS_HILITE_VIEWER__*/

#ifdef __MMI_MESSAGES_USE_URL__
extern void mmi_sms_use_url_go_to_wap(void);
#endif /* __MMI_MESSAGES_USE_URL__ */

extern void mmi_sms_set_is_recipient_modify(MMI_BOOL set);
extern void mmi_sms_send_sms(void);

extern MMI_ID mmi_sms_save_number_to_phonebook(MMI_ID parent_gid, U16* number);
#if (defined(__MMI_PHB_OPTIONAL_FIELD__))
extern void mmi_sms_save_email_to_phonebook(MMI_ID parent_gid, U16* email);
#endif
extern mmi_ret mmi_sms_save_to_phb_proc(mmi_event_struct *evt);

extern void mmi_msg_handle_class0_msg_ind(srv_sms_event_new_sms_struct* newSmsData);
extern void mmi_msg_new_msg_ind(srv_sms_event_new_sms_struct* newSmsData);

extern mmi_ret mmi_sms_handle_msg_waiting_ind(mmi_event_struct *evt);
#ifdef __MMI_UM_ITERATOR_VIEWER__
extern void mmi_sms_iter_viewer_handle_curr_msg_deleted(void);
extern void mmi_sms_iter_viewer_entry_viewer_scrn(void);
extern MMI_BOOL mmi_sms_iter_viewer_query_indexing(void);
#endif /* __MMI_UM_ITERATOR_VIEWER__ */

#ifdef __MMI_OP12_MESSAGE_VOICEMAIL__
extern MMI_BOOL mmi_msg_handle_new_mt_voicemail(srv_sms_event_struct* event_data);
#endif /* __MMI_OP12_MESSAGE_VOICEMAIL__ */


extern void DeInitMessagesEMSBuffer(EMSData *p);
extern EMSData *GetEMSDataForView(EMSData **p, U8 force);
extern EMSData *GetEMSDataForEdit(EMSData **p, U8 force);
extern U8 CopyEMSViewToEditBuffer(void);
extern void ReleaseEMSViewBuffer(void);
extern void ReleaseEMSEditBuffer(void);

#ifdef __UNIFIED_MESSAGE_ARCHIVE_SUPPORT__
extern void mmi_sms_delete_curr_archive_msg(void);
#endif /* __UNIFIED_MESSAGE_ARCHIVE_SUPPORT__ */

extern void mmi_sms_vm_entry_hdlr(MMI_ID parent_gid);

extern void mmi_sms_um_set_sms_context(U32 msg_id);/*FM_ITER*/

extern MMI_ID mmi_sms_group_entry(mmi_id parent_gid);
extern void mmi_sms_box_list_opt_pre_view(void);
extern MMI_MENU_ID mmi_sms_get_viewer_opt_menu_id(U16 msg_id);
extern mmi_ret mmi_sms_box_list_opt_cb_hdlr(MMI_ID parent_gid, mmi_event_struct *evt, U32 msg_id);
extern void mmi_sms_set_and_entry_processing_sg(mmi_id sms_gid, U16 bodyStrId, U16 rskStrId);

extern mmi_ret mmi_sms_class0_opt_entry_hdlr(cui_menu_event_struct* menu_evt);
extern mmi_ret mmi_sms_use_number_opt_select_hdlr(MMI_ID group_id, mmi_event_struct *menu_evt);
extern mmi_ret mmi_sms_use_email_opt_select_hdlr(MMI_ID group_id, mmi_event_struct *menu_evt);
#ifdef __MMI_MESSAGES_USE_URL__
extern mmi_ret mmi_sms_use_url_opt_select_hdlr(MMI_ID group_id, mmi_event_struct *menu_evt);
#endif /* __MMI_MESSAGES_USE_URL__ */
extern void mmi_sms_pre_entry_use_detail_list_sg(MMI_ID parent_gid, mmi_msg_addr_type_enum type, S8* pText, U16 txtlen, S8 *address);

#ifndef __UNIFIED_COMPOSER_SUPPORT__
extern void mmi_sms_ed_opt_save_to_drafts(MMI_ID group_id, srv_sms_sim_enum sim_id);
extern mmi_ret mmi_sms_editor_opt_select_hdlr(mmi_event_struct *menu_evt);
extern mmi_ret mmi_sms_editor_opt_entry_hdlr(cui_menu_event_struct *menu_evt);
#ifdef __MMI_BRW_BKM_INTERFACE_SUPPORT__ 
extern mmi_ret mmi_sms_editor_advanced_entry_hdlr(MMI_ID menu_gid);
#endif /* __MMI_BRW_BKM_INTERFACE_SUPPORT__  */
#ifdef __MMI_MESSAGES_TEMPLATE__
extern mmi_ret mmi_sms_ed_insert_template_hdlr(mmi_event_struct *evt);
#endif /* __MMI_MESSAGES_TEMPLATE__ */
extern mmi_ret mmi_sms_editor_advanced_select_hdlr(mmi_event_struct *menu_evt);
#endif

extern void mmi_sms_class0_opt_select_hdlr(mmi_event_struct *menu_evt);
extern void mmi_sms_entry_confirm(
                MMI_ID parent_id,
                U16 str_id,
                FuncPtr lsk_func,
                FuncPtr rsk_func,
                MMI_BOOL is_enable_csk);
extern void mmi_sms_entry_confirm_enter_history(
                MMI_ID parent_id,
                U16 str_id,
                FuncPtr lsk_func,
                FuncPtr rsk_func,
                MMI_BOOL is_enable_csk);
extern void mmi_sms_entry_confirm_sg(
        MMI_ID parent_id,
        U16 str_id,
        FuncPtr lsk_func,
        FuncPtr rsk_func);
extern void mmi_sms_entry_confirm_sg_ext(
        MMI_ID parent_id,
        WCHAR* text,
        FuncPtr lsk_func,
        FuncPtr rsk_func);
extern MMI_BOOL mmi_sms_display_popupcallback_sg(
        MMI_ID parent_id,
        WCHAR* string,
        mmi_event_notify_enum event_id,
        mmi_proc_func receiver_proc,
        void *user_data,
        U32 flags);
extern void mmi_sms_display_popup(UI_string_type text, mmi_event_notify_enum event_id);
extern void mmi_sms_display_popup_ext(MMI_STR_ID title, mmi_event_notify_enum event_id);
extern void mmi_sms_nmgr_display_popup(UI_string_type text, mmi_event_notify_enum event_id);

/* FM_SEND_KEY */
extern void mmi_sms_entry_write_sms(MMI_ID parent_gid,S8 **ucs2_addr_list, U16 addr_count, S8 *ucs2_content);

#ifndef __UNIFIED_COMPOSER_SUPPORT__
#ifdef __MMI_BRW_BKM_INTERFACE_SUPPORT__     
extern void mmi_sms_handle_select_bookmark_rsp(U8 *selected_utf8_url);
#endif /* __MMI_BRW_BKM_INTERFACE_SUPPORT__  */
#endif

#if defined(__MMI_SMS_SET_AS_REMINDER__) && defined(__MMI_TODOLIST__)
extern void mmi_sms_viewer_opt_add_to_calendar(MMI_ID parent_gid);
#endif

extern void mmi_sms_settings_group_close(void);
extern void mmi_sms_vm_group_close(void);
#ifdef __MMI_MESSAGES_TEMPLATE__
extern void mmi_sms_template_group_close(void);
#endif

extern void mmi_sms_check_msg_waiting_icon(void);

#ifdef __ULC_SLIM_EMS__
extern MMI_BOOL mmi_sms_check_if_insert_text_possible(const CHAR*dest, const CHAR*source);
EMSTATUS mmi_sms_append_string_to_ems_buffer(EMSData *pEms, CHAR *ucs2_buffer, S32 textLen);
#endif /* __ULC_SLIM_EMS__ */

#ifdef __UNIFIED_MESSAGE_BACKGROUND_SEND_SUPPORT__
void mmi_sms_list_opt_bg_send(void);
#endif
#ifdef __MMI_DYNAMIC_SIM_DYNAMIC_UI__
extern void mmi_sms_append_sim_name_to_menu_items_and_hide_invalid_sims(MMI_ID menu_cui_pid, MMI_ID*sim_menus, MMI_ID* sim_strings);
#endif
#ifdef __SRV_SMS_TCARD_STORAGE_SUPPORT__
extern void mmi_sms_update_storage_filter_settings(void);
extern void mmi_msg_pref_storage_unavail_yes(void);
extern void mmi_msg_pref_storage_unavail_no(void);
#endif
extern srv_sms_sim_enum mmi_sms_convert_mmi_sim_to_srv_sim(mmi_sms_sim_enum sms_sim_id);

#ifndef __UM_SUPPORT__

/*****************************************************************************
 * FUNCTION
 *  mmi_sms_get_msg_info_content
 * DESCRIPTION
 *  to get the information content for the message id provided
 * PARAMETERS
 *  mmi_sms_msg_info_struct
 *  U16
 *  srv_sms_box_enum
 * RETURNS
 *  void
 *****************************************************************************/
extern MMI_BOOL mmi_sms_get_msg_info_content(
                    mmi_sms_msg_info_struct *msg_info,
                    U16 msg_id,
                    srv_sms_box_enum msg_box_type);

/*****************************************************************************
 * FUNCTION
 *  mmi_sms_inbox_alert
 * DESCRIPTION
 * alert for the new message
 * PARAMETERS
 *  mmi_frm_nmgr_alert_struct
 * RETURNS
 *  void
 *****************************************************************************/
 extern void mmi_sms_inbox_alert(mmi_frm_nmgr_alert_struct *alert);

#endif


#endif /* __SMS_APP_PROT_H__ */

