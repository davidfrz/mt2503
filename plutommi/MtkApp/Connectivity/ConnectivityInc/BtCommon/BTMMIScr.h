/*****************************************************************************
 *  Copyright Statement:
 *  --------------------
 *  This software is protected by Copyright and the information contained
 *  herein is confidential. The software may not be copied and the information
 *  contained herein may not be used or disclosed except with the written
 *  permission of MediaTek Inc. (C) 2005
 *
 *  BY OPENING THIS FILE, BUYER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
 *  THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("MEDIATEK SOFTWARE")
 *  RECEIVED FROM MEDIATEK AND/OR ITS REPRESENTATIVES ARE PROVIDED TO BUYER ON
 *  AN "AS-IS" BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES,
 *  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF
 *  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NONINFRINGEMENT.
 *  NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY WHATSOEVER WITH RESPECT TO THE
 *  SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY, INCORPORATED IN, OR
 *  SUPPLIED WITH THE MEDIATEK SOFTWARE, AND BUYER AGREES TO LOOK ONLY TO SUCH
 *  THIRD PARTY FOR ANY WARRANTY CLAIM RELATING THERETO. MEDIATEK SHALL ALSO
 *  NOT BE RESPONSIBLE FOR ANY MEDIATEK SOFTWARE RELEASES MADE TO BUYER'S
 *  SPECIFICATION OR TO CONFORM TO A PARTICULAR STANDARD OR OPEN FORUM.
 *
 *  BUYER'S SOLE AND EXCLUSIVE REMEDY AND MEDIATEK'S ENTIRE AND CUMULATIVE
 *  LIABILITY WITH RESPECT TO THE MEDIATEK SOFTWARE RELEASED HEREUNDER WILL BE,
 *  AT MEDIATEK'S OPTION, TO REVISE OR REPLACE THE MEDIATEK SOFTWARE AT ISSUE,
 *  OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE CHARGE PAID BY BUYER TO
 *  MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT ISSUE. 
 *
 *  THE TRANSACTION CONTEMPLATED HEREUNDER SHALL BE CONSTRUED IN ACCORDANCE
 *  WITH THE LAWS OF THE STATE OF CALIFORNIA, USA, EXCLUDING ITS CONFLICT OF
 *  LAWS PRINCIPLES.  ANY DISPUTES, CONTROVERSIES OR CLAIMS ARISING THEREOF AND
 *  RELATED THERETO SHALL BE SETTLED BY ARBITRATION IN SAN FRANCISCO, CA, UNDER
 *  THE RULES OF THE INTERNATIONAL CHAMBER OF COMMERCE (ICC).
 *
 *****************************************************************************/
/*****************************************************************************
 *
 * Filename:
 * ---------
 * BTMMIScr.h
 *
 * Project:
 * --------
 *   Maui
 *
 * Description:
 * ------------
 *   This file is the header file of btmmiscr.c
 *
 * Author:
 * -------
 * -------
 *
 *============================================================================
 *             HISTORY
 * Below this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *------------------------------------------------------------------------------
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *------------------------------------------------------------------------------
 * Upper this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *============================================================================
 ****************************************************************************/
#ifndef __BT_MMI_SCR_H__
#define __BT_MMI_SCR_H__
#include "BTMMIScrGprots.h"
#ifdef __MMI_FTE_SUPPORT__
#include "wgui_touch_screen.h"
#endif 

#include "MMI_features.h"
#include "MMIDataType.h"
#include "MMI_conn_app_trc.h"
#include "DebugInitDef_Int.h"
#include "BtcmSrvGprot.h"
#include "mmi_frm_scenario_gprot.h"
#include "kal_general_types.h"
#include "gui_data_types.h"
#ifdef __BT_MAPC_PROFILE__
#include "MapSrvGprot.h"
#endif 
/***************************************************************************** 
* Macro
*****************************************************************************/
#ifndef __MMI_BT_SLIM__
#ifndef __MMI_BT_AUTO_RELEASE_CONNECTION__
#define __MMI_BT_AUTO_RELEASE_CONNECTION__
#endif
#endif



#ifdef __MMI_BT_SLIM__
#ifndef _MMI_BT_ULTRA_SLIM_
#define _MMI_BT_ULTRA_SLIM_
#endif 
#endif

#ifdef __MMI_MAINLCD_96X64__
#ifndef _MMI_BWUI_BT_SLIM_
#define _MMI_BWUI_BT_SLIM_
#endif 
#endif

/***************************************************************************** 
* Definations
*****************************************************************************/
#define MMI_BT_SCR_MAX_NUM_OF_CONTEXT_OF_PRO_CON_SCR           64
#define MMI_BT_SCR_BUF_SIZE                                    64 //128
#define MMI_BT_UI_BUF_SIZE                                     400
#define MMI_BT_PIN_SCR_BUF_SIZE                                20
#define MMI_BT_POPUP_SCR_BUF_SIZE                              160        

#if defined( __MMI_BT_DIALER_SUPPORT__ ) && !defined(__MMI_BT_APPLICATION_BQB__)
#define MMI_BT_INQUIRY_TIMEOUT_DURATION    80
#else
#define MMI_BT_INQUIRY_TIMEOUT_DURATION                        60      /* 60 sec */
#endif
#define MMI_BT_CONNECT_ACCEPT_CNF_TIMER_DUR                    30000
#define MMI_BT_MAX_PASSKEY_LENGHT                              (16+1)
#define MMI_BT_BT_LP2_GUARD_TIMER_DUR                          30000    /* 30 sec */
#define MMI_BT_BT_LP2_DELAY_TIMER_DUR                          2500     /* 2.5 sec */
#define MMI_BT_MAX_SECURITY_PASSKEY_LENGTH                     6        
//#define MMI_BT_BT_TEMP_VISIBLE_TIMER_DUR                       60000    /* 60 sec */ /* in minutes*/
#define MMI_BT_MAX_ITEM_ICON                                   (SRV_BT_CM_MAX_PAIRED_DEVICE_LIST + 2)

// sys flag: record bt power status
#define MMI_BT_MASK_ON                      0x00000001
#define MMI_BT_MASK_OFF_BY_FLIGHT_MODE      0x00000002
#define MMI_BT_MASK_ON_BY_FLIGHT_MODE       0x00000004
#define MMI_BT_MASK_JUST_NOTIFY_FLIGHT_MODE 0x00000008


//#define  MMI_BT_POWER_ON                      0x01

#define  MMI_BT_INQ_TYPE_AUDIO                   0x00000001
#define  MMI_BT_INQ_TYPE_ALL_DEV                 0x00000002

#define  MMI_BT_INQUIRY                          0x00000004
//#define  MMI_BT_SIM_HOT_SWAP                     0x00000008

//#define  MMI_BT_FLIGHT_MODE_ON                0x00000010
//#define  MMI_BT_FLIGHT_MODE_OFF               0x00000020

/*from mmi call power switch*/
#define  MMI_BT_POWER_SWITCH               0x00000040
#define  MMI_BT_SCO_FAR_END_LP_TESTING        0x00000080


/*when set visibility, but bt power off*/
#define  MMI_BT_CONFIRM_SET_VISIBILITY           0x00000100
/*when search new device from cm, but bt power off*/
#define  MMI_BT_CONFIRM_INQ_ALL_DEV              0x00000200
/*when search audio device from cm, but bt power off*/
#define  MMI_BT_CONFIRM_INQ_AUDIO_DEV            0x00000400
/*when entry specific device from profile, but bt power off*/
#define  MMI_BT_CONFIRM_SPECIFIC_DEV             0x00000800
/*when rename host device, but bt power off*/
#define  MMI_BT_CONFIRM_SET_DEV_NAME             0x00001000
/*when entry advance screen, but bt power off*/
#define  MMI_BT_CONFIRM_SET                      0x00002000
/*when entry paired device option menu, but bt power off*/
#define  MMI_BT_CONFIRM_PAIRED_DEV_OPT           0x00004000
/*when entry paired device list, if press CSK to connect HFP, but BT not power on*/
#define  MMI_BT_CONFIRM_CONNECT_AUDIO            0x00008000
/*when entry paired device to unblock(LSK) , but BT power off*/
#define  MMI_BT_CONFIRM_UNBLOCK                  0x00010000

/*when delete device, the delete confirm*/
#define  MMI_BT_DELETE_DEV_CONFIRM                    0x00020000
/*when delete all device, the delete all confirm*/
#define  MMI_BT_DELETE_DEV_ALL_CONFIRM             0x00040000

/*when delete device, if connection exit*/
#define  MMI_BT_CONFIRM_PAIRED_DEV_DEL           0x00080000
/*when delete all device, if connection exit*/
#define  MMI_BT_CONFIRM_PAIRED_DEV_DEL_ALL       0x00100000
/*when power off BT, but connection exist, first release connection,then power off*/
#define  MMI_BT_CONFIRM_SWITCH_POWER_OFF         0x00200000
/*when set simap, but connection exit, first release conneciton*/
//#define  MMI_BT_CONFIRM_SIMAP_SET                0x00400000
/*when set anti-lost*/
#ifdef __MMI_BT_ANTI_LOST_BY_RSSI__

#define  MMI_BT_CONFIRM_ANTILOST_SET                0x00400000
#endif
/*when set authorize to reject, but connection exit, first release conneciton*/
#define  MMI_BT_CONFIRM_AUTHORIZE_REJECT         0x00800000
/*when connect audio device, but connection exit, first release conneciton*/
#define  MMI_BT_RELEASE_AUDIO_DEV_BEFORE_CONNECT 0x01000000
/*when user from mmi disconnect device or disconnect all connection*/
#define  MMI_BT_RElEASE_CONNECT             0x02000000
/*When first paired success, will set authorize as always connect, but not display popup"Done"*/
#define  MMI_BT_SET_ALWAYS_CONNECT_BY_PAIR       0x40000000
/* TO go to the audio path when power on is done  */
#define  MMI_BT_SET_AUDIO_PATH                   0x80000000

#define  MMI_BT_OPP_CLIENT_AUTO_ON                 0x04000000
#define  MMI_BT_BIP_CLIENT_AUTO_ON                 0x08000000
#define  MMI_BT_BPP_CLIENT_AUTO_ON                 0x10000000
#define  MMI_BT_AUTO_ON                            0x20000000


typedef void (*mmi_bt_pwr_callback) (MMI_BOOL);


/***************************************************************************** 
 * Enum
 *****************************************************************************/

typedef enum
{
#ifdef __MMI_FTC_SUPPORT__
    MMI_BT_MYDEV_OPT_FTP,    
    #endif
#ifdef __MMI_HFP_SUPPORT__
    MMI_BT_MYDEV_OPT_CONN,
    #endif
    MMI_BT_MYDEV_OPT_DISCONN,
#if MMI_MAX_SIM_NUM > 1
    MMI_BT_MYDEV_OPT_SIM,
#endif    
    MMI_BT_MYDEV_OPT_SET_DEFAULT_HS, /* Configure Default Headset */
    MMI_BT_MYDEV_OPT_REN,
    MMI_BT_MYDEV_OPT_SUP_SERV,    
#if defined(__MMI_BT_AUTHORIZE__)
    MMI_BT_MYDEV_OPT_AUTHOR, 
#endif
    MMI_BT_MYDEV_OPT_DEL,
#ifdef __BT_DIALER_SUPPORT__

	MMI_BT_MYDEV_CONNECT,
	MMI_BT_MYDEV_DISCONNECT,
	MMI_BT_MYDEV_HELP,
#endif 
    MMI_BT_MYDEV_OPT_DEL_ALL,
#if defined(__MMI_HIDD_SUPPORT__)
	MMI_BT_MYDEV_OPT_REMOTE_CTRL,
#endif /*defined(__MMI_HIDD_SUPPORT__)*/
    MMI_BT_MYDEV_OPT_LAST
} MMI_BT_MYDEV_OPT;


typedef enum
{
    MMI_BT_VISIBILITY_PERMANENT_ON,
    MMI_BT_VISIBILITY_TEMPORARY_ON,
    MMI_BT_VISIBILITY_OFF,    
    MMI_BT_LAST_VISIBILITY_TYPE 
} mmi_bt_visibility_type;

/* device select option menu */
#ifdef __MMI_BT_DEF_SEND_DEVICE__
typedef enum
{
    MMI_BT_DEVICE_SELECT_OPT_SEND,
    MMI_BT_DEVICE_SELECT_OPT_SETDEF,
    MMI_BT_DEVICE_SELECT_OPT_CLEARDEF,
    MMI_BT_DEVICE_SELECT_OPT_TOTAL
}mmi_bt_device_select_opt_enum;
#endif
typedef enum
{
    MMI_BT_RELEASE_DEVICE_CONNECTION,
    MMI_BT_RELEASE_ALL_CONNECTION,
    MMI_BT_RELEASE_AUDIO_CONNECITON,
    MMI_BT_RELEASE_CONNECTION_TOTAL
}mmi_bt_release_connection_enum;


/***************************************************************************** 
 * Structure
 *****************************************************************************/
typedef void (*mmi_bt_func_ptr) (void);

typedef struct
{
    U16 context_str[MMI_BT_SCR_MAX_NUM_OF_CONTEXT_OF_PRO_CON_SCR];
    U16 scr_id;
    U16 title_str_id;
    mmi_id gid;
    void *fp;       /* for confirm exit func or progress rsk func */
} mmi_bt_prog_conf_scr_struct;

typedef struct
{
    mmi_sim_enum id;
    MMI_ID       text;
} mmi_bt_sim_info;

typedef struct 
{
    srv_bt_cm_bt_addr *device;
    mmi_bt_sim_info info[MMI_MAX_SIM_NUM];
    S16 selected;
    U8 count;
} mmi_bt_sim_list;

typedef struct
{
    //U8 dev_name[SRV_BT_CM_BD_FNAME_LEN];  
    srv_bt_cm_bt_addr dev_add; 
    U32 prof_id;
    void *callback;
}mmi_bt_scr_authorize_struct;

typedef struct
{
    /**************************/
    /* flag                   */
    /**************************/
    S32 handle;
    /* flag */
    U32 flag;
    U8 sys_flag;
    
    /**************************/
    /*cui and screen group variable*/
    /**************************/
    /* power on confirm common UI state, TRUE means cui is in use */
    MMI_BOOL pwr_cnf_cui_state;
    MMI_BOOL pwf_cnf_cui_notify_flag;
    /* device select common UI state, TRUE means cui is in use */
    MMI_BOOL device_select_cui_state;
    MMI_BOOL dev_select_cui_notify_flag;
	/* connecting screen common UI */
	#ifdef __MMI_BT_DIALER_SUPPORT__
    MMI_BOOL dialer_cnting_cui_state;
    MMI_BOOL dialer_cnting_cui_notify_flag;
	mmi_id cnting_cui_gid;
	#endif
    /*cm group id*/
    mmi_id main_gid;
    mmi_id main_menu_gid;
    /*mydev group id*/
    mmi_id mydev_gid;
    //mmi_id mydev_menu_gid;
    mmi_id mydev_opt_menu_gid;
    /*inquiry group id*/
    mmi_id inq_gid;
    /*menu group id*/
    //mmi_id menu_gid;
    //mmi_id parent_menu_id;

    /*rename group id*/
    mmi_id fseditor_gid;

#ifdef __MMI_BT_AUTHORIZE__
    mmi_id authorize_menu_gid;
#endif  // __MMI_BT_AUTHORIZE__

#ifndef __MMI_BT_SLIM__
    mmi_id srv_list_menu_gid;
#endif  // __MMI_BT_SLIM__
#if !defined( _MMI_BT_ULTRA_SLIM_) || defined(__MMI_BT_APPLICATION_BQB__)
    mmi_id advance_menu_gid;
#endif   
    /**************************/
    /*pair used variable*/
    /**************************/
    /*client paired success,will display alway connect screen*/
#ifdef __MMI_BT_AUTHORIZE__
    MMI_BOOL first_pair;
#endif
#ifdef __MMI_BT_MAP_CLIENT__
	MMI_BOOL map_supported;
#endif
#ifdef __MMI_BT_DIALER_SUPPORT__
		MMI_BOOL map_connect_flag;
	MMI_BOOL call_supported;
#endif
//#endif  // __MMI_BT_AUTHORIZE__

    /*whether is 16 digits-> use in passkey screen display*/
    U8 enable_16digits_pin_code;
    /*simple pair used, display numeric or not*/
    U8 display_numeric;

    /**************************/
    /* Hightlight item        */
    /**************************/
    /* Hightlight item */
    U16 hilight_item;
    /* authorize item select: always connect, always reject */
    /*menu hight item*/
    //U16 menu_hilight_item;

    /**************************/
    /* interrupt suppress     */
    /**************************/
    /* BT interrupt suppress mechanism */ 
    //MMI_BOOL int_suppress_switch;
    //U32 int_suppress_level;
    //U32 suppress_profile[SRV_BT_CM_MAX_HOST_SUPPORTED_PROFILE];
    
    /**************************/
    /* UI buffer              */
    /**************************/
    /* for name display */
    U16 scr_buf[MMI_BT_SCR_BUF_SIZE];
    /* for about menu and enter pin of device name */
    U16 ui_buf[MMI_BT_UI_BUF_SIZE];
    /* for passkey input */
    U16 pin_scr_buf[MMI_BT_PIN_SCR_BUF_SIZE];
    /* for passkey input */
    U8 security_passkey[MMI_BT_MAX_SECURITY_PASSKEY_LENGTH+1];
    
    
    /**************************/
    /* passkey ind bt_addr*/
    /**************************/
    U8 dev_name[SRV_BT_CM_BD_FNAME_LEN];
    srv_bt_cm_bt_addr selct_dev_addr;
    
    /**************************/
    /* dis, connecting profile*/
    /**************************/
    /* connecting dev and profile */
    srv_bt_cm_bt_addr conn_dev_add;
    srv_bt_cm_bt_addr disconn_dev_add;
    /* store the authorization infor */
    mmi_bt_scr_authorize_struct authorize_ptr[SRV_BT_CM_MAX_CONNECTION];

    /***********************/
    /* my device list menu */
    /***********************/
    /* for specific cod mask */
    U32 dev_cod_mask;
    /* for select service */
    U32 dev_service_id;
    /* device select screen option menu, 
    use bit mask to decide which options to show */
    U32 dev_select_option_flag;
    /*device select cui record device to APP */
    srv_bt_cm_dev_struct selected_spec_dev;
    /* Send to default device addr */
    srv_bt_cm_bt_addr specific_hilight_dev;

    /**************************/
    /* register callback menu */
    /**************************/
    /* Store power on confirm handler void(*)(MMI_BOOL) */
    mmi_bt_pwr_callback pwr_on_cb_with_result;
    mmi_bt_pwr_callback pwr_off_cb_with_result;


    /*******************************/
    /* progress and confirm screen */
    /*******************************/
    /* progressing and confirm screen context */
    mmi_bt_prog_conf_scr_struct prog_scr;
    //mmi_bt_prog_conf_scr_struct conf_scr;    

    /*******************************/
    /* loopback test               */
    /*******************************/
    /* sco far end loopback testing information */
    srv_bt_cm_bt_addr far_end_dev_add;
    U8 far_end_dev_pin[MMI_BT_MAX_PASSKEY_LENGHT + 1];
    U8 test_by_at;
    U8 test_by_em;
    U8 is_switching_to_flight_mode;

    /* power on failed popup(shell use it)*/
    U16 popup_string;
    U16 release_type;
#if MMI_MAX_SIM_NUM > 1     
    mmi_bt_sim_list sim_list;
#endif
    
} mmi_bt_scr_cntx_struct;

/***************************************************************************** 
* External Global Variable
*****************************************************************************/
extern mmi_bt_scr_cntx_struct g_mmi_bt_scr_cntx;


/***************************************************************************** 
* Extern Global Function
*****************************************************************************/
/* init & deinit*/
extern void mmi_bt_scr_init(void);
extern void mmi_bt_event_notify_handle(U32 event, void* para);


/*******************************/
/* power */
/*******************************/
extern void mmi_bt_display_power_on_confirm(mmi_id group_id);
extern void mmi_bt_entry_power_on_confirm(mmi_scrn_essential_struct *info);
extern U8 mmi_bt_entry_power_on_confirm_del_cb(void);
extern void mmi_bt_entry_power_on_confirm_rsk_hdler(void);
extern void mmi_bt_power_switching(mmi_id group_id);
extern void mmi_bt_power_switch_on_complete(void *para);   /* power switch rsp */
extern void mmi_bt_power_switch_off_complete(void *para);  /* power switch rsp */
extern void mmi_bt_power_on_callback(void);


/*******************************/
/* main menu */
/*******************************/
void mmi_bt_entry_main_menu(void);
mmi_ret mmi_bt_main_menu_group_proc(mmi_event_struct* evt);
//mmi_ret mmi_bt_main_menu_leave_proc(mmi_event_struct *evt);
mmi_ret mmi_bt_main_group_proc(mmi_event_struct *param);
mmi_ret mmi_bt_menu_cui_proc(mmi_event_struct *param);
mmi_ret mmi_bt_editor_cui_proc(mmi_event_struct *param);


/*******************************/
/* mydev => inquiry */
/*******************************/
extern void mmi_bt_inquiry_dev(void);
extern void mmi_bt_inquiry_aud_dev(void);
//extern void mmi_bt_inquiry(mmi_id group_id, U32 cod, U16 title_str_id, void (*callback) (void));
extern mmi_ret mmi_bt_inquiry_group_proc(mmi_event_struct *param);
extern mmi_ret mmi_bt_inq_progress_leave_proc(mmi_event_struct *evt);
//extern U8 mmi_bt_inq_progress_del_cb(void);
extern void mmi_bt_inq_result_notify(void* para);
extern void mmi_bt_entry_inq_result(void); 
extern void mmi_bt_exit_inq_result(void);
extern void mmi_bt_inq_result_hilite_hdlr(S32 idx);
extern mmi_ret mmi_bt_inq_result_leave_proc(mmi_event_struct *evt);
//extern U8 mmi_bt_inq_result_del_cb(void);
extern void mmi_bt_inq_result_cancel(void);             /* cancel discov req */
extern void mmi_bt_inq_result_goback(void);
extern void mmi_bt_inq_complete(void *para);       /* discov cfm or discov-cancel cfm */
extern pBOOL mmi_bt_get_discovered_item(S32 item_index, UI_string_type str_buff, PU8 *img_buff_p, U8 str_img_mask);
extern S32 mmi_bt_get_discovered_item_hint(S32 item_index, UI_string_type *hint_array);


/*******************************/
/* my device pair */
/*******************************/
extern void mmi_bt_entry_bonding(void);                 /* bond req */
extern void mmi_bt_passkey_input_notify(void *para);           /* passkey ind */
extern MMI_BOOL mmi_bt_passkey_input_scr_hdlr(mmi_scenario_id scen_id, void *arg);
extern void mmi_bt_entry_passkey_input_scr_hdlr(void);
extern void mmi_bt_entry_passkey_input_screen(void);
extern mmi_ret mmi_bt_entry_passkey_input_group_proc(mmi_event_struct *param);
extern void mmi_bt_exit_passkey_input_screen(void);
extern mmi_ret mmi_bt_passkey_input_scr_leave_proc(mmi_event_struct *evt);
extern void mmi_bt_passkey_validation_func(U8 *text, U8 *cursor, S32 length);
extern void mmi_bt_send_passkey(void);
extern void mmi_bt_entry_pair_result(void *para);
extern void mmi_bt_entry_bond_result(void *para);


/*******************************/
/* my device */
/*******************************/
extern void mmi_bt_pre_entry_mydev_menu(void);
extern void mmi_bt_entry_mydev_menu(void);
//extern mmi_ret mmi_bt_entry_mydev_menu_group_proc(mmi_event_struct* evt);
//extern void mmi_bt_update_mydev_menu(void);


/*******************************/
/* my device option */
/*******************************/
extern void mmi_bt_entry_mydev_opt(void);
extern mmi_ret mmi_bt_entry_mydev_opt_group_proc(mmi_event_struct* evt);


/*******************************/
/* my specific dev */
/*******************************/
extern void mmi_bt_entry_dev_select(void);

#ifdef __MMI_BT_DEF_SEND_DEVICE__
extern void mmi_bt_entry_dev_select_opt(void);
extern mmi_ret mmi_bt_entry_dev_select_opt_group_proc(mmi_event_struct* evt);
//extern mmi_ret mmi_bt_dev_select_call_status_cb(mmi_event_struct* param);
extern void mmi_bt_dev_select_to_send(void);
extern void mmi_bt_dev_select_set_default(void);
extern void mmi_bt_dev_select_clear_default(void);
#endif

/*******************************/
/* set menu => set vis */
/*******************************/
extern void mmi_bt_entry_set_vis(void);
extern void mmi_bt_set_vis_complete(void *para);

#ifdef __MMI_BT_LIMITED_DISCOVERY_SUPPORT__
void mmi_bt_entry_set_limit_vis(void);
extern void mmi_bt_set_limit_vis_complete(void *para);
#endif


#ifdef __MMI_BT_AUTHORIZE__
extern MMI_BOOL mmi_bt_authorize_confirm_hdlr(mmi_scenario_id scen_id, void *arg);
extern void mmi_bt_entry_authorize_confirm_scr_hdlr(void);
extern void mmi_bt_entry_authorize_confirm_screen(void);
extern mmi_ret mmi_bt_authorize_confirm_group_proc(mmi_event_struct *param);
extern void mmi_bt_authorize_alway_connect(void);
extern void mmi_bt_entry_mydev_authorize(void);
extern mmi_ret mmi_bt_entry_mydev_authorize_group_proc(mmi_event_struct* evt);
extern void mmi_bt_entry_mydev_authorize_select(srv_bt_cm_authorize_type type);

extern void mmi_bt_set_authorize_complete(void *para);
extern void mmi_bt_set_as_always_connect_hf(void);
extern void mmi_bt_entry_mydev_unblock(void);
extern void mmi_bt_unblock_complete(void *para);
#endif /*__MMI_BT_AUTHORIZE__*/


/*******************************/
/* set menu => set name */
/*******************************/
extern void mmi_bt_entry_set_name(void);
extern void mmi_bt_entry_set_name_proc(void);
extern void mmi_bt_set_name_complete(void *para);


/*******************************/
/* set menu */
/*******************************/
extern void mmi_bt_entry_set_menu(void);
mmi_ret mmi_bt_set_menu_group_proc(mmi_event_struct* evt);


#ifdef __MMI_SIMAP_SUPPORT__  
/*******************************/
/* set menu => set simap */
/*******************************/
extern void mmi_bt_entry_set_simap(void);
#endif

/*******************************/
/* connection manager screen */
/*******************************/
extern void mmi_bt_display_connect_confirm(mmi_id group_id, MMI_BOOL supported_hf);
extern void mmi_bt_entry_connect_confirm(mmi_scrn_essential_struct *info);
extern void mmi_bt_connect_confirm_lsk(void);
extern void mmi_bt_entry_connecting(mmi_id group_id);
//extern void mmi_bt_entry_mydev_conn(void);
extern void mmi_bt_connecting(srv_bt_cm_bt_addr *dev_addr, mmi_id group_id);
extern srv_bt_cm_result_codes_enum mmi_bt_connecting_check(srv_bt_cm_bt_addr *dev_addr, U32 pro_uuid);
extern void mmi_bt_connect_complete(void *para);      /* connect ind */
extern void mmi_bt_disconnect_complete(void *para);

#if MMI_MAX_SIM_NUM > 1
static mmi_bt_sim_list *mydev_init_sim_list(srv_bt_cm_bt_addr *addr);
void mmi_bt_mydev_show_sim_setting(srv_bt_cm_bt_addr *addr);
#endif

/*******************************/
/* mydev => supported service */
/*******************************/
#if !defined(__MMI_BT_SLIM__)
extern void mmi_bt_entry_mydev_service_list(void);
mmi_ret mmi_bt_entry_mydev_servic_list_group_proc(mmi_event_struct* evt);
extern void mmi_bt_mydev_refresh_service(void);
extern void mmi_bt_refresh_prof_complete(void *para);
#endif
/*******************************/
/* mydev => set default hs  */
/*******************************/
extern void mmi_bt_entry_mydev_set_default_hs(void);

/*******************************/
/* mydev => rename  */
/*******************************/
extern void mmi_bt_entry_mydev_ren(void);
extern void mmi_bt_entry_mydev_ren_proc(void);

/*******************************/
/* mydev => delete */
/*******************************/
extern void mmi_bt_entry_mydev_delete_confirm(U32 type);
extern mmi_ret mmi_bt_entry_mydev_delete_confirm_proc(mmi_event_struct *evt);
extern void mmi_bt_entry_mydev_del(void);
extern void mmi_bt_entry_mydev_del_all(void);
extern void mmi_bt_mydev_del_complete(void *para);


/*******************************/
/* about */
/*******************************/
extern void mmi_bt_entry_about(void);
extern void mmi_bt_entry_about_for_setting(U16 * entry_buff);

/*******************************/
/* release connection confirm screen */
/*******************************/
extern void mmi_bt_display_release_connection_confirm(mmi_id group_id, mmi_bt_release_connection_enum type);
extern void mmi_bt_entry_release_connection_confirm(mmi_scrn_essential_struct *info);
extern void mmi_bt_entry_release_connection_confirm_lsk(void);
extern void mmi_bt_entry_release_connection_confirm_rsk(void);
extern void mmi_bt_entry_release_all_connections(mmi_id group_id);
extern void mmi_bt_entry_release_device_connections(mmi_id group_id);
//extern void mmi_bt_entry_release_profile_connection(mmi_id group_id);
extern void mmi_bt_release_conn_complete(void *para);


/*******************************/
/*  authorize confirm screen   */
/*******************************/
extern MMI_BOOL mmi_bt_authorize_ind_scr_hdlr(mmi_scenario_id scen_id, void *arg);
extern mmi_ret mmi_bt_authorize_ind_group_proc(mmi_event_struct *param);
extern void mmi_bt_entry_authorize_ind_screen(mmi_scrn_essential_struct *info);
extern void mmi_bt_exit_authorize_ind_screen(void);
extern void mmi_bt_authorize_screen_timeout(void *arg);
extern mmi_ret mmi_bt_authorize_screen_leave_proc(mmi_event_struct *post_evt);
extern U8 mmi_bt_authorize_screen_del_cb(void *user_data);
extern void mmi_bt_authorize_ind_accepted(void);
extern void mmi_bt_authorize_ind_rejected(void);

extern void mmi_bt_entry_progress_scr(void);
extern void mmi_bt_stop_progress_scr(mmi_id group_id, U16 scrid);
//extern mmi_ret mmi_bt_power_progress_leave_proc(mmi_event_struct *evt);


/* misc  */
extern MMI_BOOL mmi_bt_get_profile_str_id(U16 profile_uuid, U8 **str);
U16 mmi_bt_get_connect_cnf_scr_id(U32 prof_id);
mmi_id mmi_bt_get_connect_cnf_gid(U32 prof_id);
U16 mmi_bt_get_connect_cnf_timer(U32 prof_id);
extern mmi_bt_scr_authorize_struct *mmi_bt_get_connect_accept_stack(U32 prof_id);
extern void mmi_bt_add_connect_accept_stack(srv_bt_cm_bt_addr *dev_add, U32 prof_id, void *callback);
extern mmi_bt_scr_authorize_struct * mmi_bt_pop_connect_accept_stack(void);
extern void mmi_bt_clear_connect_accept_stack(U32 conn_type);
extern void mmi_bt_echo_stack_info(void);
extern MMI_BOOL mmi_bt_flag_check(void);

extern void mmi_bt_update_status_icon(void);
extern MMI_BOOL mmi_bt_test_ucs2(U16 *buf, U16 char_num);
extern void mmi_bt_truncate_ucs2_string(U16 *buf, U16 char_num, U16 truncate_char_num);


extern MMI_BOOL mmi_bt_is_dev_cod_match(U32 device_cod, U32 specific_cod);


#if defined(__MMI_BT_AUDIO_VIA_SCO__) || defined(__MMI_BT_FM_VIA_SCO__)
//void mmi_bt_remove_disconnect_sco_screen(void);
mmi_ret mmi_bt_remove_disconnect_sco_screen_leave_proc(mmi_event_struct *evt);
#endif

extern void mmi_bt_sco_ind(void *para);
extern void mmi_bt_loopback_req_ind_hdler(void *msg_ptr);
extern void mmi_bt_loopback_test_timeout_hdler(void);
extern void mmi_bt_loopback_delay_timeout_hdler(void);
extern void mmi_bt_send_l4_msg(U16 msg_id, void *p_local_para, void *p_peer_buff);


#if defined(__MMI_FTE_SUPPORT__) && defined(__MMI_TOUCH_SCREEN__)
void mmi_bt_mydev_menu_tap_callback(mmi_tap_type_enum tap_type, S32 index);
MMI_BOOL mmi_bt_entry_device_list_seperate_line(S32 index, U32 *flag, U32 *flag_ex);
#endif  // defined(__MMI_FTE_SUPPORT__) && defined(__MMI_TOUCH_SCREEN__)

#endif /* __BT_MMI_SCR_H__ */

