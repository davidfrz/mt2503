/*****************************************************************************
*  Copyright Statement:
*  --------------------
*  This software is protected by Copyright and the information contained
*  herein is confidential. The software may not be copied and the information
*  contained herein may not be used or disclosed except with the written
*  permission of MediaTek Inc. (C) 2005
*
*  BY OPENING THIS FILE, BUYER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
*  THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("MEDIATEK SOFTWARE")
*  RECEIVED FROM MEDIATEK AND/OR ITS REPRESENTATIVES ARE PROVIDED TO BUYER ON
*  AN "AS-IS" BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES,
*  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF
*  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NONINFRINGEMENT.
*  NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY WHATSOEVER WITH RESPECT TO THE
*  SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY, INCORPORATED IN, OR
*  SUPPLIED WITH THE MEDIATEK SOFTWARE, AND BUYER AGREES TO LOOK ONLY TO SUCH
*  THIRD PARTY FOR ANY WARRANTY CLAIM RELATING THERETO. MEDIATEK SHALL ALSO
*  NOT BE RESPONSIBLE FOR ANY MEDIATEK SOFTWARE RELEASES MADE TO BUYER'S
*  SPECIFICATION OR TO CONFORM TO A PARTICULAR STANDARD OR OPEN FORUM.
*
*  BUYER'S SOLE AND EXCLUSIVE REMEDY AND MEDIATEK'S ENTIRE AND CUMULATIVE
*  LIABILITY WITH RESPECT TO THE MEDIATEK SOFTWARE RELEASED HEREUNDER WILL BE,
*  AT MEDIATEK'S OPTION, TO REVISE OR REPLACE THE MEDIATEK SOFTWARE AT ISSUE,
*  OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE CHARGE PAID BY BUYER TO
*  MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT ISSUE. 
*
*  THE TRANSACTION CONTEMPLATED HEREUNDER SHALL BE CONSTRUED IN ACCORDANCE
*  WITH THE LAWS OF THE STATE OF CALIFORNIA, USA, EXCLUDING ITS CONFLICT OF
*  LAWS PRINCIPLES.  ANY DISPUTES, CONTROVERSIES OR CLAIMS ARISING THEREOF AND
*  RELATED THERETO SHALL BE SETTLED BY ARBITRATION IN SAN FRANCISCO, CA, UNDER
*  THE RULES OF THE INTERNATIONAL CHAMBER OF COMMERCE (ICC).
*
*****************************************************************************/
/* **** Copy Right Note ********* 
 *  Copyright Notice
 *  (c) PMT.
 *  All Rights Reserved.
 *  (It is illegal to remove this copyright notice from this software or any
 *  portion of it)
 *******************************************************************************
 * Filename:
 * ---------
 * wgui_draw_manager.h
 *
 * Project:
 * --------
 * PDG2
 *
 * Description:
 * ------------
 * This file contains the prototypes for Draw Manager.
 * Author:
 * -------
 * -------
 *==============================================================================
 * HISTORY
 * Below this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *------------------------------------------------------------------------------
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 *------------------------------------------------------------------------------
 * Upper this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *==============================================================================
 *******************************************************************************/

#ifndef __WGUI_DRAW_MANAGER_H__
#define __WGUI_DRAW_MANAGER_H__

/*******************************************************************************
* Include Header File
*******************************************************************************/
#include "MMI_features.h"

#include "MMIDataType.h"
#include "kal_general_types.h"
#include "gdi_const.h"
#include "gdi_datatype.h"
#include "gui.h"
#include "mmi_frm_input_gprot.h"
#include "gui_panel.h"
#include "gui_data_types.h"
#include "CustThemesRes.h"
#include "gui_buttons.h"

/*******************************************************************************
* Macro Define
*******************************************************************************/
#ifdef __GDI_MEMORY_PROFILE_2__
    #undef __DM_SLIM_USE_MULTIPLE_LAYERS__
    #define __DM_SLIM_USE_MULTIPLE_LAYERS__
#else
    #undef __DM_SLIM_USE_MULTIPLE_LAYERS__
#endif

/* Constants */

/* Max strings on Main LCD screen */
#define DM_MAX_STRINGS                       3


#ifdef __MMI_DUAL_SIM__
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#else /* __MMI_DUAL_SIM__*/

/* Max strings on Sub LCD screen */
#define DM_MAX_SUBLCD_STRINGS                1

#endif /* __MMI_DUAL_SIM__*/

/* Max Main LCD images on screen */
#define DM_MAX_IMAGES                        2

/* Max Sub LCD images on screen */
#define DM_MAX_SUBLCD_IMAGES                 1

/* Max Fill area conntrols on screen */
#define DM_MAX_FILL_AREAS                    1

/* Max Rectangle controls on screen */
#define DM_MAX_RECTANGLES                    2

/* Max Line Controls on screen */
#define DM_MAX_LINES                         1

/* Max Scrool text Controls on screen */
#define DM_MAX_SCROLL_TEXT                   2

/* Max Button controls on screen */
#define DM_MAX_BUTTONS                       2

/* Max Percentage bar controls on screen */
#define DM_MAX_PERCENTAGE_BAR                1

#if (defined(__MMI_SEARCH_WEB__) || defined(__MMI_HIDD_SUPPORT__))
/* Max Panel controls on screen */
#define DM_MAX_PANEL                         1
#endif

/* Font types */
#define  DEFAULT_FONT						 MAX_FONT_TYPES

#define DM_CALCULATED_HEIGHT				 0

#define DM_CALCULATED_WIDTH					 0

/* shared coordinate set, to reduce memory usage */

#define DM_DUMMY_COORDINATE                 (-10000)
#define DM_NULL_COORDINATE                  (-10001)
#define DM_FULL_SCREEN_COORDINATE_FLAG      (-10002)
#define DM_FULL_SCREEN_COORDINATE           (-10003)
#define DM_CONTENT_COORDINATE_FLAG          (-10004)
#define DM_CONTENT_COORDINATE               (-10005)
#define DM_POPUP_SCREEN_COORDINATE_FLAG     (-10006)
#define DM_POPUP_SCREEN_COORDINATE          (-10007)
#define DM_DEFAULT_STATUS_BAR_FLAG          (-10008)
#define DM_DEFAULT_STATUS_BAR               (-10009)
#define DM_DEFAULT_TITLE_BAR_FLAG           (-10010)
#define DM_DEFAULT_TITLE_BAR                (-10011)
#define DM_DEFAULT_BUTTON_BAR_FLAG          (-10012)
#define DM_DEFAULT_BUTTON_BAR               (-10013)
#define DM_SUBMENU_CONTENT_COORDINATE_FLAG  (-10014)
#define DM_SUBMENU_CONTENT_COORDINATE       (-10015)
#define DM_COMMON_CONTENT_COORDINATE_FLAG   (-10016)
#define DM_COMMON_CONTENT_COORDINATE        (-10017)
#define DM_DEFAULT_TITLE_LEFT_BUTTON_FLAG   (-10018)
#define DM_DEFAULT_TITLE_LEFT_BUTTON        (-10019)
#define DM_DEFAULT_TITLE_RIGHT_BUTTON_FLAG  (-10020)
#define DM_DEFAULT_TITLE_RIGHT_BUTTON       (-10021)
#define DM_EDITOR_CONTENT_COORDINATE_FLAG   (-10022)
#define DM_EDITOR_CONTENT_COORDINATE        (-10023)


/* Global Flags ( Used in category screens for global dm_struct ) */

/* Default flag */
#define DM_NO_FLAGS                                     0x00000000 

/* Softkey is disabled if it is set */
#define DM_NO_SOFTKEY                                   0x00000001 

/* Title is disabled if it is set */
#define DM_NO_TITLE                                     0x00000002 

/* Status bar is disabled if it is set */
#define DM_NO_STATUS_BAR                                0x00000004 

/* Popup background is disabled if it is set */
#define DM_NO_POPUP_BACKGROUND                          0x00000008 

/* Title string is left aligned if it is set */
#define DM_LEFT_ALIGN_TITLE                             0x00000010 

/* Scroll the title string when needed */
#define DM_SCROLL_TITLE                                 0x00000020 

/* Clear screen background if it is set */
#define DM_CLEAR_SCREEN_BACKGROUND                      0x00000040 

/* Show virtual keypad if it is set */
#define DM_SHOW_VKPAD                                   0x00000080 

/* Switch to sub lcd context if it is set */
#define DM_SUB_LCD_CONTEXT                              0x00000100 

/* Set transparent BG for sub lcd */
#define DM_SUB_LCD_TRANSPARENT_BG                       0x00000200

/* Rotate sub lcd by 180 if it is set */
#define DM_SUB_LCD_ROTATE_180                           0x00000400

/* Hide status bar*/
#define DM_SPECIFIC_HIDE_STATUS_BAR                     0x00000800

/* Don't blt screen area if it is set */
#define DM_NO_BLT                                       0x00001000


#define DM_LITE_DISP_WALLPAPER                          0x00002000

/* Do not use default rotate wallpaper */
#define DM_USER_DEFINE_ROTATE_BG_IMG                    0x00004000 

/* Set new layer as ABM source layer */
#define DM_SET_AS_ABM_LAYER                             0x00008000 

/* Set new layer as active layer */
#define DM_SET_NEW_LAYER_ACTIVE                         0x00010000 

/* Clear screen background with GDI default color */
#define DM_CLEAR_SCREEN_BACKGROUND_COLOR                0x00020000 

/* Show scr bg user user color */
#define DM_LITE_DISP_WALLPAPER_USER_COLOR               0x00040000 

/* Single line inputbox with information bar */
#define DM_SINGLE_LINE_INPUT_BOX_WITH_INFORMATION_BAR   0x00080000 

/* Do not cache SCR_BG, no lazy free */
#define DM_SCR_BG_NO_CACHE                              0x00100000 

#ifdef __MMI_WEARABLE_DEVICE__
#define DM_SHOW_SWATCH_SOFTKEY							0x00200000
#endif
//#define DM_NO_STRING                                  0x00008000
//#define DM_MAIN_LCD_CONTEXT                           0x00000020 /* Set Main lcd context */
//#define DM_NO_BUILD_BUFFER                            0x00000200

/* Control Specific Flags */
/* One Byte is for control specific flags
   Second Byte is for previous control specific flags (Common Flags ) */

/* flag to set thick title */
#define DM_TITLE_SET_THICK			0x0001

/* flag to show scr_bg */
#define DM_SCR_BG_FORCE_SHOW		0x0001

/* flag to set some color of new layer instead of transparent layer*/
#define DM_NEW_LAYER_WITH_COLOR		0x0001

/* flag to specify color of new layer (as 24-bit, B,G,R), instead of transparent layer*/
#define DM_NEW_LAYER_24				0x0002


/* String & Images */

/* Left Align the control in Horrizontal direction*/
#define DM_LEFT_ALIGN_X				0x0001

/* Forcefully override the alignment of control and draw it as centrally aligned in X direction*/
#define DM_FORCE_CENTRE_ALIGN_X     0x0001

/* Centre Align the control */
#define DM_CENTRE_ALIGN_X			0x0002

/* Right Align the control */
#define DM_RIGHT_ALIGN_X			0x0004

/* Align the control and put it on top */
#define DM_TOP_ALIGN_Y				0x0008

/* Forcefully override the alignment of control and draw it as centrally aligned in Y direction*/
#define DM_FORCE_CENTER_ALIGN_Y     0x0008

/* Centrally align Control in Y direction */
#define DM_CENTER_ALIGN_Y			0x0010

/* Align the control and put it in bottom */
#define DM_BOTTOM_ALIGN_Y			0x0020


/* only strings */

/* To draw bordered String control */
#define DM_STRING_BORDERED			0x0040


/* only images */

/* If set then resize the image */
#define DM_RESIZE_IMAGE				0x0040

/* Fill background of control if thi is set */
#define DM_BACK_FILL				0x0080


/* Button Specific Flags */


#define DM_BUTTON_DISABLE_BACKGROUND					 0x0001
#define DM_BUTTON_BAR_UP_ARROW							 0x0002
#define DM_BUTTON_BAR_DOWN_ARROW						 0x0004
#define DM_BUTTON_BAR_LEFT_ARROW						 0x0008
#define DM_BUTTON_BAR_RIGHT_ARROW						 0x0010


/* Popup Background Specific Flags */


#define DM_DRAW_POPUP_BACKGROUND_3D						 0x0001
#define DM_POPUP_BACKGROUND_HATCH_FILL					 0x0002
#define DM_POPUP_BACKGROUND_GREYSCALE					 0x0004
#define DM_POPUP_BACKGROUND_NOT_USE_IMAGE				 0x0008

/* Only for popup, control set must have aligned area*/
#define DM_POPUP_BACKGROUND_FOR_FTE						 0x0010


/* Multiline inputbox Specific Flags */

/* The height of multiline inputbox is decided by category */
#define DM_FIXED_MULTILINE_INPUTBOX_HEIGHT				 0x0001

/* The width of multiline inputbox is decided by category */
#define DM_FIXED_MULTILINE_INPUTBOX_WIDTH				 0x0002
#define DM_FIXED_MULTILINE_INPUTBOX_HEIGHT_NO_MULTITAP   0x0004


/* Singleline Inputbox Specific Flags */


#define DM_SINGLE_LINE_INPUTBOX_SPECIFIC_HEIGHT			 0x0001


/* Alligned Area Specific Flags */


#define DM_ALLIGNED_AREA_EQUAL_SPACE_TOP_AND_BOTTOM      0x0001
#define DM_ALLIGNED_AREA_NO_BACK_FILL					 0x0002
#define  DM_ALLIGNED_AREA_MULTILINE_SCROLL_IF_REQUIRED   0x0004
#define DM_ALLIGNED_AREA_FOR_POPUP_FTE    0x0008


/* List Specific Flags */


#define DM_CATEGORY_CONTROL_COORDINATES					 0x0001

#define DM_SLIDE_CONTROL_VALUE_POS_NONE					 0x0001
#define DM_SLIDE_CONTROL_VALUE_POS_HEAD					 0x0002
#define DM_SLIDE_CONTROL_VALUE_POS_TAIL					 0x0004
#define DM_SLIDE_CONTROL_VALUE_POS_NEXT_LINE			 0x0008

#define DM_BUTTON_RIGHT_ALIGN							 0x0001

#define DM_SCROLL_TEXT_LEFT_ALIGN_X						 0x0001
#define DM_SCROLL_TEXT_CENTRE_ALIGN_X					 0x0002
#define DM_SCROLL_TEXT_RIGHT_ALIGN_X					 0x0004

#define DM_SCROLL_TEXT_TOP_ALIGN_Y						 0x0008
#define DM_SCROLL_TEXT_CENTER_ALIGN_Y					 0x0010
#define DM_SCROLL_TEXT_BOTTOM_ALIGN_Y					 0x0020
#define DM_SCROLL_TEXT_USE_FONT_HEIGHT					 0x0040


/* Common Flags ( used for all components ) */


#define DM_PREVIOUS_CONTROL_END_X						 0x0100
#define DM_PREVIOUS_CONTROL_END_Y						 0x0200
#define DM_PREVIOUS_CONTROL_END_Y_OFFSET_HEIGHT			 0x0400
#define DM_PREVIOUS_CONTROL_END_X_OFFSET_WIDTH			 0x0800

#define DM_WIDTH_OFFSET_PREVIOUS_CONTROL_END_X			 0x1000
#define DM_HEIGHT_OFFSET_PREVIOUS_CONTROL_END_Y			 0x2000
#define DM_WIDTH_PREVIOUS_CONTROL_WIDTH					 0x4000
#define DM_HEIGHT_PREVIOUS_CONTROL_HEIGHT				 0x8000

/* Image data type macro. Do not use 0x00000000 as one of this value. */
#define DM_IMAGE_WITH_HEADER                            0x00000001
#define DM_IMAGE_WITHOUT_HEADER                         0x00000010
#define DM_IMAGE_RAW_DATA_BUFFER                        0x00000100


/*******************************************************************************
* Enum Define
*******************************************************************************/

/* Draw Manager Controls */
typedef enum
{
    DM_BASE_LAYER_START,			/* Base Layer Control Start */
    DM_BASE_LAYER_END,				/* Base Layer Control End */
    DM_NEW_LAYER_START,				/* New Layer Control Start */
    DM_NEW_LAYER_END,				/* New Layer Control End */
    DM_SCR_BG,						/* Screen BG control */
    DM_BASE_CONTROL_SET1,			/* Base Control Set */
    DM_BASE_CONTROL_SET2,			/* Base Control Set without title bar*/
    DM_BASE_CONTROL_SET_SUBMENU,	/* Base Control Set with starting Y coordinate equal to Title Bar starting Y coordinate*/
    DM_BASE_CONTROL_SET_COMMON,		/* Base Control Set */
    DM_CIRCULAR_MENU1,				/* Circular Menu Control */
    DM_LIST1,						/* Fixed List Control */
    DM_ROTATE_MENU1,				/* Rotate List Control */
    DM_INLINE_FIXED_LIST1,			/* Inline Fixed List Control */
    DM_MATRIX_MENU1,				/* Matrix Menu Control */
    DM_DYNAMIC_LIST1,				/* Dynamic List Control */
    DM_DYNAMIC_MATRIX1,				/* Dynamic Matrix Control */
    DM_ASYNCDYNAMIC_LIST1,			/* Async Dynamic List Control */
    DM_ASYNCDYNAMIC_MATRIX1,		/* Async Dynamic Matrix Control */
    DM_SINGLELINE_INPUTBOX1,		/* Single Line Inputbox Control */
    DM_MULTILINE_INPUTBOX1,			/* Multiline Inputbox Control */
    DM_EMS_INPUTBOX1,				/* EMS Inputbox Control */
    DM_DIALER_INPUT_BOX1,			/* Dialer Inputbox Control */
    DM_TAB_CONTROL,					/* Tab Control */
    DM_HORIZONTAL_TAB_BAR,			/* Horrizontal Tab Bar Control */
    DM_DATE_TIME_DISPLAY,			/* Date Time Display Control */
    DM_TITLE1,						/* Title Control */
    DM_STATUS_BAR1,					/* Status Bar Control */
    DM_LSK,							/* LSK Control */
    DM_RSK,							/* RSK Control */
    DM_CSK,							/* CSK Control */
    DM_BUTTON_BAR1,					/* Button Bar Control */
    DM_BUTTON,						/* Single Button Control */
    DM_CALENDAR,					/* Calender Control */
    DM_ALIGNED_AREA_START,			/* Aligned Area Control Start */
    DM_ALIGNED_AREA_END,			/* Aligned Area Control End */
    DM_STRING,						/* String Control */
    DM_IMAGE,						/* Image Control */
    DM_BACK_FILL_AREA,				/* Back Fill Area Control */
    DM_RECTANGLE,					/* Rectangle Control */
    DM_LINE,						/* Line Control */
    DM_SLIDE_CONTROL,				/* Slide Control */
    DM_CATEGORY_CONTROLLED_AREA,	/* Category Controlled Area Control */
    DM_CATEGORY_CONTROLLED_AREA2,	/* Second Category Controlled Area Control */
    DM_POPUP_BACKGROUND,			/* Popup Background Control */
    DM_NWAY_STOPWATCH,				/* NWAY Stopwatch Control */
    DM_TYPICAL_STOPWATCH,			/* Typical Stopwatch Control */
#ifndef __MMI_DM_BW_WITHOUT_WALLPAPER__
    DM_WALL_PAPER,					/* Wallpaper Control */
#endif
    DM_SCROLL_TEXT,					/* Scroll Text Control */
    DM_PERCENTAGE_BAR,				/* Percentage Bar Control */
    DM_PANEL,						/* Panel Control */
#ifdef __MMI_FTE_SUPPORT__
    DM_ICON_BAR,					/* Icon Bar Control */
#endif
    DM_CONTROL_TOTAL				/* Count of total Controls */
} mmi_dm_control_ids_enum;

/* Used to tell the current state of category screen */
typedef enum
{
    NORMAL_EXIT,    /* Normal procedure: ExitCategory function state */
    NORMAL_SHOW,    /* Normal procedure: Showcategory function state */
    NORMAL_REDRAW,  /* Normal procedure: RedrawCategory function state */
    REDRAW_2_SHOW,  /* Abnormal procedure: ShowCategory function is called without calling ExitCategory function */
    REDRAW_2_REDRAW /* Abnormal procedure: RedrawCategory function is called directly without EixtCategory function and ShowCategory function */
} dm_redraw_state_enum;


/* flags used to create layer in draw manager */
typedef enum
{
    DM_LAYER_TOP,			/* To add layer on top of all layers in stack */
    DM_LAYER_BOTTOM,		/* To add layer in bottom of all layers in stack */
    DM_LAYER_ACTIVE_TOP,	/* To add layer just below the active layer in stack */
    DM_LAYER_ACTIVE_BOTTOM	/* To add layer just above the active layer in stack */
} mmi_dm_new_layer_flags_enum;

/* flags of title area style */
typedef enum
{
    DM_TITLE_AREA_NORMAL,			/* Title Area only */
    DM_TITLE_AREA_STATUS_ICON_ONLY,	/* Title Area for Status Icon only */
    DM_TITLE_AREA_NONE				/* No Title Area */
} mmi_dm_title_area_type_enum;

/* flags of rectangle fill style */
typedef enum
{
    DM_RECTANGLE_NO_FILL = 0,			/* No fill */
    DM_RECTANGLE_FILL_COLOR = 1,		/* Fill specified color in rectangle */
    DM_RECTANGLE_FILL_GRAYSCALE = 2		/* Fill gray */
} dm_rectangle_fill_style;



/*******************************************************************************
* Structure Define
*******************************************************************************/

/* Used to store DM Category related data */
typedef struct
{
    S32 s32ScrId;	/* Screen ID */
    S32 s32CatId;	/* Category ID */
    S32 s32flags;	/* Flags */
} dm_data_struct;

/* Screen ID coordinate set Map */
typedef struct
{
    S32 screen_id;			/* Screen ID */
    S16 *coordinate_set_p;	/* Coordinate Set */
} dm_screen_id_coordinate_set_map_struct;

/* Control ID set Map */
typedef struct
{
    U16 category_id;				/* Category ID */
    U8 *control_set_p;				/* Control Set Pointer */
    S16 *default_coordinate_set_p;	/* Default Coordinate Set */
    S16 *rotated_coordinate_set_p;	/* Coordinate Set after Rotation */
} dm_category_id_control_set_map_struct;

/* Used to store DM coordinates for GUI controls in dimension format */
typedef struct
{
    S16 s16X;		/* X Coordinate */
    S16 s16Y;		/* Y Coordinate */
    S16 s16Width;	/* Width */
    S16 s16Height;	/* Height */
    S32 Flags;		/* Flags for the control */
} dm_coordinates;

/* Used to store DM coordinates for Category Screen */
typedef struct
{
    S16 x1;		/* Starting X Coordinate */
    S16 y1;		/* Starting Y Coordinate */
    S16 x2;		/* Ending X Coordinate */
    S16 y2;		/* Ending Y Coordinate */
    S16 flags;	/* Flags */
} dm_cat_scr_info_struct;


extern const S16 g_screenid_coordinate_sets_map_entries_count;
extern dm_data_struct g_dm_data, g_dm_sublcd_data;
extern const dm_category_id_control_set_map_struct g_categories_controls_map[];
extern const dm_screen_id_coordinate_set_map_struct g_screenid_coordinate_sets_map[];

#define TO_4ALIGNED_SIZE(s) {s = (s + 3) / 4; s *= 4; }

#define dm_add_image(x,y,z) dm_add_image_int(x,0,y, z, DM_IMAGE_WITH_HEADER, GDI_IMAGE_TYPE_INVALID, 0, 0)
#define dm_add_image_2(x,y,z,a,b,c,d) dm_add_image_int(x,y,NULL,z,a,b,c,d)


/*****************************************************************************              
 * FUNCTION
 *   dm_init
 * DESCRIPTION
 *   Initializes the draw manager context and variables
 * PARAMETERS
 *   void
 * RETURNS
 *   void
*****************************************************************************/
extern void dm_init(void);

/*****************************************************************************              
 * FUNCTION
 *   dm_reset_context
 * DESCRIPTION
 *   Resets the draw manager context
 * PARAMETERS
 *   void
 * RETURNS
 *   void
*****************************************************************************/
extern void dm_reset_context(void);

/* DOM-NOT_FOR_SDK-BEGIN */
/*****************************************************************************              
 * FUNCTION
 *   dm_reset_context_ext
 * DESCRIPTION
 *   Resets the draw manager context
 * PARAMETERS
 *   void
 * RETURNS
 *   void
*****************************************************************************/
extern void dm_reset_context_ext(void);
/* DOM-NOT_FOR_SDK-END */

#ifdef __MMI_SUBLCD__
/*****************************************************************************              
 * FUNCTION
 *   dm_reset_sublcd_context
 * DESCRIPTION
 *   Resets the Sub LCD's DM context
 * PARAMETERS
 *   void
 * RETURNS
 *   None
*****************************************************************************/
extern void dm_reset_sublcd_context(void);
#endif 

/*****************************************************************************              
 * FUNCTION
 *   dm_get_image_count
 * DESCRIPTION
 *   Returns the Image Count on category screen
 * PARAMETERS
 *   void
 * RETURNS
 *   U16							Image Count
*****************************************************************************/
extern U16 dm_get_image_count(void);

/*****************************************************************************              
 * FUNCTION
 *   dm_get_button_count
 * DESCRIPTION
 *   Returns the Button Count on category screen
 * PARAMETERS
 *   void
 * RETURNS
 *   U16							Button Count
*****************************************************************************/
extern U16 dm_get_button_count(void);

/*****************************************************************************              
 * FUNCTION
 *   dm_get_button
 * DESCRIPTION
 *   Returns the Button Handle
 * PARAMETERS
 *   index				:	[IN]	index of button
 * RETURNS
 *   icontext_button				Button Handle
*****************************************************************************/
extern icontext_button *dm_get_button(U16 index);

/*****************************************************************************              
 * FUNCTION
 *   dm_reset_button_functions
 * DESCRIPTION
 *   Resets button functions
 * PARAMETERS
 *   void
 * RETURNS
 *   void				
*****************************************************************************/
extern void dm_reset_button_functions(void);

/*****************************************************************************              
 * FUNCTION
 *   dm_move_button
 * DESCRIPTION
 *   Moves button at specified location
 * PARAMETERS
 *   index				:	[IN]	index of button
 *   x					:	[IN]	new x coordinate
 *   y					:	[IN]	new y coordinate
 * RETURNS
 *   void				
*****************************************************************************/
extern void dm_move_button(U16 index, S32 x, S32 y);

/*****************************************************************************              
 * FUNCTION
 *   dm_resize_button
 * DESCRIPTION
 *   Resizes button to specified Height, Width
 * PARAMETERS
 *   index				:	[IN]	index of button
 *   width				:	[IN]	new width of button
 *   height				:	[IN]	new height of button
 * RETURNS
 *   void				
*****************************************************************************/
extern void dm_resize_button(U16 index, S32 width, S32 height);

/*****************************************************************************              
 * FUNCTION
 *   dm_redraw_button
 * DESCRIPTION
 *   Redraws button
 * PARAMETERS
 *   index				:	[IN]	index of button to be redrawn
 * RETURNS
 *   void				
*****************************************************************************/
extern void dm_redraw_button(U16 index);

/*****************************************************************************              
 * FUNCTION
 *   dm_set_scr_bg_redraw
 * DESCRIPTION
 *   Sets flag to decide whether the screen bg needs redraw or not
 * PARAMETERS
 *   status				:	[IN]	status (true to set redraw of scr bg and false otherwise)
 * RETURNS
 *   void				
*****************************************************************************/
#ifdef __DM_SLIM_USE_MULTIPLE_LAYERS__
extern void dm_set_scr_bg_redraw(MMI_BOOL status);
#else
#define dm_set_scr_bg_redraw(X) NULL
#endif

/*****************************************************************************              
 * FUNCTION
 *   dm_is_activated
 * DESCRIPTION
 *   Check whether the DM is activated or not
 * PARAMETERS
 *   void					
 * RETURNS
 *   MMI_BOOL		result of the check whether DM is activated or not			
*****************************************************************************/
extern MMI_BOOL dm_is_activated(void);

/*****************************************************************************              
 * FUNCTION
 *   dm_setup_data
 * DESCRIPTION
 *   This function sets up the information for the Draw Manager
 * PARAMETERS
 *   dm_data	:	[IN/OUT]  Which contains the Draw Manager Information					
 * RETURNS
 *   void				
*****************************************************************************/
extern void dm_setup_data(dm_data_struct *dm_data);

/*****************************************************************************
 * FUNCTION
 *  dm_redraw_category_screen
 * DESCRIPTION
 *  This function is the actual Draw Manager, which is used by all categories to 
 *  draw GUI Controls specified in control set of current category screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_redraw_category_screen(void);

/*****************************************************************************
 * FUNCTION
 *  dm_setup_category_functions
 * DESCRIPTION
 *  This function sets up the common-used functions for the Draw Manager
 * PARAMETERS
 *  redraw_function				  :  [IN]        callback to redraw the screen
 *  get_history_function          :  [IN]        callback to save history of category
 *  get_history_size_function     :  [IN]        callback to get size of history
 * RETURNS
 *  void
 *****************************************************************************/
void dm_setup_category_functions(FuncPtr redraw_function, U8 *(*get_history_function) (U8 *buffer),
                                 S32(*get_history_size_function) (void));

/*****************************************************************************
 * FUNCTION
 *  dm_search_control_set
 * DESCRIPTION
 *  get control set address by category id
 * PARAMETERS
 *  category_id                   :  [IN]        Id of category screen
 *  default_coordinate_set_p      :  [IN]        coordinate set
 * RETURNS
 *  U8 address of corresponding control set
 *****************************************************************************/
extern U8 *dm_search_control_set(S32 category_id, S16 **default_coordinate_set_p);

/*****************************************************************************
 * FUNCTION
 *  dm_search_coordinate_set
 * DESCRIPTION
 *  This function is used to search (binary search) the coordinate set corresponding to the 
 *  passed Screen Id.
 * PARAMETERS
 *  ScrId							  :  [IN]        Screen Id corresponding to which coordinate set is to be obtained.
 * RETURNS
 *  S16				coordinate set
 *****************************************************************************/
extern S16 *dm_search_coordinate_set(S32 ScrId);

/*****************************************************************************
 * FUNCTION
 *  dm_get_cat_scr_coordinates
 * DESCRIPTION
 *  This function is used obtain the category screen coordinates
 * PARAMETERS
 *  UICtrlAccessPtr_p     :  [IN/OUT]   It specifies the start position to take out the coordinates.
 *  dm_cat_scr_info       :  [IN/OUT]   Category screen coordinate info.
 * RETURNS
 *  S16						coordinate set
 *****************************************************************************/
extern S16 *dm_get_cat_scr_coordinates(S16 *UICtrlAccessPtr_p, dm_cat_scr_info_struct *dm_cat_scr_info);

/*****************************************************************************
 * FUNCTION
 *  dm_check_control_exist
 * DESCRIPTION
 *  This function is used to check if specified control exists on specified category or not
 * PARAMETERS
 *  category_id    : [IN]        category id
 *  control_id     : [IN]        control id
 * RETURNS
 *  MMI_BOOL	result of control search on category
 *****************************************************************************/
extern MMI_BOOL dm_check_control_exist(S32 category_id, mmi_dm_control_ids_enum control_id);

/*****************************************************************************
 * FUNCTION
 *  dm_update_multitap_coordinates
 * DESCRIPTION
 *  This function updates the multitap coordinates depending on the multitap coordinates
 * PARAMETERS
 *  dm_multiline_inputbox_info     : [IN]        Multiline inputbox information structure.
 *  dm_cat_scr_info                : [IN]        Category Screen information structure.
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_update_multitap_coordinates(
                dm_coordinates *dm_multiline_inputbox_info,
                dm_cat_scr_info_struct *dm_cat_scr_info);

/*****************************************************************************
 * FUNCTION
 *  dm_get_category_history
 * DESCRIPTION
 *  This function is used obtain the category history.
 * PARAMETERS
 *  history_buffer     : [IN/OUT]        Buffer of history data.
 * RETURNS
 *  U8 history
 *****************************************************************************/
extern U8 *dm_get_category_history(U8 *history_buffer);

/*****************************************************************************
 * FUNCTION
 *  dm_get_category_history_size
 * DESCRIPTION
 *  This function is used obtain the category history size.
 * PARAMETERS
 *  void
 * RETURNS
 *  S32 size of history structure used for a control in category screen
 *****************************************************************************/
extern S32 dm_get_category_history_size(void);

#ifdef __MMI_SUBLCD__
/*****************************************************************************
 * FUNCTION
 *  dm_register_sub_category_controlled_callback
 * DESCRIPTION
 *  Register the callback function for category controlled area (Sub LCD)
 * PARAMETERS
 *  f      : [IN]        Callback function
 * RETURNS
 *  void
 *****************************************************************************/
void dm_register_sub_category_controlled_callback(void (*f) (dm_coordinates *coordinate));

/*****************************************************************************
 * FUNCTION
 *  dm_reset_sub_category_controlled_callback
 * DESCRIPTION
 *  Reset the callback function for category controlled area (Sub LCD)
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_reset_sub_category_controlled_callback(void);
#endif /* __MMI_SUBLCD__ */ 

/*****************************************************************************
 * FUNCTION
 *  dm_register_category_controlled_callback
 * DESCRIPTION
 *  Register the callback function for category controlled area (Main LCD)
 * PARAMETERS
 *  f      : [IN]        Callback function
 * RETURNS
 *  void
 *****************************************************************************/
void dm_register_category_controlled_callback(void (*f) (dm_coordinates *coordinate));

/*****************************************************************************
 * FUNCTION
 *  dm_register_category_controlled2_callback
 * DESCRIPTION
 *  Register the callback function for category controlled area2 (Main LCD)
 * PARAMETERS
 *  f      : [IN]        Callback function
 * RETURNS
 *  void
 *****************************************************************************/
void dm_register_category_controlled2_callback(void (*f) (dm_coordinates *coordinate));

/*****************************************************************************
 * FUNCTION
 *  dm_reset_category_controlled_callback
 * DESCRIPTION
 *  Reset the callback function for category controlled area (Main LCD)
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_reset_category_controlled_callback(void);

/* DOM-NOT_FOR_SDK-BEGIN */
/*****************************************************************************
 * FUNCTION
 *  dm_move_control_without_layer
 * DESCRIPTION
 *  Moves the control without layer
 * PARAMETERS
 *  comp_x		: [IN/OUT] x
 *  comp_y		: [IN/OUT] y
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_move_control_without_layer(S16 *comp_x, S16 *comp_y);
/* DOM-NOT_FOR_SDK-END */

/*****************************************************************************
 * FUNCTION
 *  dm_setup_and_draw_scr_bg
 * DESCRIPTION
 *  This function is used setup screen background layer and draw it
 * PARAMETERS
 *  UICtrlAccessPtr_p   : [IN/OUT]  It specifies the start position to take out the coordinates.
 * RETURNS
 *  S32						1 if the process was successful, else 0
 *****************************************************************************/
extern S32 dm_setup_and_draw_scr_bg(S16 **UICtrlAccessPtr_p);

/*****************************************************************************
 * FUNCTION
 *  dm_register_vkpad_callback
 * DESCRIPTION
 *  This function is to register dm_show_vkpad_callback
 * PARAMETERS
 *  f      : [IN]        Function pointer to do changes before show virtual keypad.
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_register_vkpad_callback(FuncPtr f);

/*****************************************************************************
 * FUNCTION
 *  dm_get_wallpaper_layer
 * DESCRIPTION
 *  This function is used to get the layer handle of wallpaper
 * PARAMETERS
 *  void
 * RETURNS
 *  GDI_HANDLE		wallpaper layer handle
 *****************************************************************************/
extern GDI_HANDLE dm_get_wallpaper_layer(void);

/*****************************************************************************
 * FUNCTION
 *  dm_set_scr_bg_image
 * DESCRIPTION
 *  This function is used to set image id or image name of scr bg image
 * PARAMETERS
 *  image_id       : [IN]        Id of the image
 *  file_name      : [IN]        File name of the image
 *  x              : [IN]        x coordinate
 *  y              : [IN]        y coordinate
 *  opacity        : [IN]        opacity value
 * RETURNS
 *  void
 *****************************************************************************/
#ifdef __DM_SLIM_USE_MULTIPLE_LAYERS__
extern void dm_set_scr_bg_image(U16 image_id, S8 *file_name, S32 x, S32 y, U8 opacity);
#else
#define dm_set_scr_bg_image(x, y, z, a, b) NULL
#endif

/*****************************************************************************
 * FUNCTION
 *  dm_set_scr_bg_image_no_draw
 * DESCRIPTION
 *  This function is used to set image id or image name of scr bg image
 * PARAMETERS
 *  image_id       : [IN]        Id of the image
 *  file_name      : [IN]        File name of the image
 *  x              : [IN]        x coordinate
 *  y              : [IN]        y coordinate
 *  opacity        : [IN]        opacity value
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_set_scr_bg_image_no_draw(U16 image_id, S8 *file_name, S32 x, S32 y, U8 opacity);

/*****************************************************************************
 * FUNCTION
 *  dm_set_scr_bg_lite_color
 * DESCRIPTION
 *  This function is used to set user lite color
 * PARAMETERS
 *  lite_color       : [IN]        color to fill scr bg
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_set_scr_bg_lite_color(gdi_color lite_color);

/*****************************************************************************
 * FUNCTION
 *  dm_get_scr_bg_image
 * DESCRIPTION
 *  This function is used to get image id or image name of scr bg image
 * PARAMETERS
 *  image_id       : [IN/OUT]        Id of the image
 *  file_name      : [IN/OUT]        File name of the image
 *  x              : [IN/OUT]        x coordinate
 *  y              : [IN/OUT]        y coordinate     
 *  opacity        : [IN/OUT]        opacity value 
 * RETURNS
 *  void
 *****************************************************************************/
#ifdef __DM_SLIM_USE_MULTIPLE_LAYERS__
extern void dm_get_scr_bg_image(U16 *image_id, S8 **file_name, S32 *x, S32 *y, U8 *opacity);
#else
#define dm_get_scr_bg_image(x,y,z,k,m) NULL
#endif


/*****************************************************************************
 * FUNCTION
 *  dm_get_scr_bg_layer
 * DESCRIPTION
 *  This function is used to get the layer handle of scr bg image
 * PARAMETERS
 *  void
 * RETURNS
 *  GDI_HANDLE		handle of scr bg layer from scr bg context
 *****************************************************************************/
#ifdef __DM_SLIM_USE_MULTIPLE_LAYERS__
extern GDI_HANDLE dm_get_scr_bg_layer(void);
#else
#define dm_get_scr_bg_layer() GDI_ERROR_HANDLE
#endif

/*****************************************************************************
 * FUNCTION
 *  dm_get_scr_bg_opacity
 * DESCRIPTION
 *  This function is used to get opacity of scr_bg layer
 * PARAMETERS
 *  opacity    : [IN/OUT]        Opacity of layer
 * RETURNS
 *  void
 *****************************************************************************/
#ifdef __DM_SLIM_USE_MULTIPLE_LAYERS__
extern void dm_get_scr_bg_opacity(U8 *opacity);
#else
#define dm_get_scr_bg_opacity(x) NULL
#endif

/*****************************************************************************
 * FUNCTION
 *  dm_set_scr_bg_opacity
 * DESCRIPTION
 *  This function is used to set opacity of scr_bg layer
 * PARAMETERS
 *  opacity    : [IN]        Opacity of layer
 * RETURNS
 *  void
 *****************************************************************************/
#ifdef __DM_SLIM_USE_MULTIPLE_LAYERS__
extern void dm_set_scr_bg_opacity(U8 opacity);
#else
#define dm_set_scr_bg_opacity(x) NULL
#endif

/*****************************************************************************
 * FUNCTION
 *  dm_get_scr_bg_flag
 * DESCRIPTION
 *  This function is used to get display flags of scr_bg layer
 * PARAMETERS
 *  flags    : [IN/OUT]        display flags
 * RETURNS
 *  void
 *****************************************************************************/
#ifdef __DM_SLIM_USE_MULTIPLE_LAYERS__
extern void dm_get_scr_bg_flag(S32 *flags);
#else
#define dm_get_scr_bg_flag(x) NULL
#endif

/*****************************************************************************
 * FUNCTION
 *  dm_set_scr_bg_flag
 * DESCRIPTION
 *  This function is used to set display flags of scr_bg layer
 * PARAMETERS
 *  flags    : [IN]        display flags
 * RETURNS
 *  void
 *****************************************************************************/
#ifdef __DM_SLIM_USE_MULTIPLE_LAYERS__
extern void dm_set_scr_bg_flag(S32 flags);
#else
#define dm_set_scr_bg_flag(x) NULL
#endif

/*****************************************************************************
 * FUNCTION
 *  dm_add_title
 * DESCRIPTION
 *  This function is used to add title control to category screen
 * PARAMETERS
 *  text       : [IN]        label of title
 *  icon       : [IN]        icon of title
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_add_title_ex(
	UI_string_type text
#ifndef __MMI_TITLE_BAR_NO_ICON_SHCT__	
	, PU8 icon
#endif/*__MMI_TITLE_BAR_NO_ICON_SHCT__*/	
	);
#ifndef __MMI_TITLE_BAR_NO_ICON_SHCT__
#define dm_add_title dm_add_title_ex
#else
#define dm_add_title(_arg0, _arg1) dm_add_title_ex(_arg0)
#endif/**/
/*****************************************************************************
 * FUNCTION
 *  dm_add_softkey
 * DESCRIPTION
 *  This function is used to add softkeys to category screen
 * PARAMETERS
 *  lsk_text   : [IN]        label of left softkey
 *  lsk_icon   : [IN]        icon of left softkey
 *  rsk_text   : [IN]        label of right softkey
 *  rsk_icon   : [IN]        icon of right softkey
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_add_softkey_ex(
	UI_string_type lsk_text, 
#ifdef __MMI_ICONTEXT_BTN_DISPLAY_ICON__	
	PU8 lsk_icon, 
#endif/*__MMI_ICONTEXT_BTN_DISPLAY_ICON__*/	
	UI_string_type rsk_text
#ifdef __MMI_ICONTEXT_BTN_DISPLAY_ICON__	
	, PU8 rsk_icon
#endif/*__MMI_ICONTEXT_BTN_DISPLAY_ICON__*/	
	);

#ifdef __MMI_ICONTEXT_BTN_DISPLAY_ICON__
#define dm_add_softkey dm_add_softkey_ex
#else/*__MMI_ICONTEXT_BTN_DISPLAY_ICON__*/
#define dm_add_softkey(_arg0, _arg1, _arg2, _arg3) dm_add_softkey_ex(_arg0, _arg2)
#endif/*__MMI_ICONTEXT_BTN_DISPLAY_ICON__*/


/*****************************************************************************
 * FUNCTION
 *  dm_add_image
 * DESCRIPTION
 *  This function is used to add image control to category screen
 * PARAMETERS
 *  image                     :  [IN]        Image
 *  image_name                :  [IN]        Name of image
 *  background                :  [IN]        Background Fill for the image
 * RETURNS
 *  void
 *****************************************************************************/
/* extern void dm_add_image(PU8 image, UI_string_type image_name, UI_filled_area *background); */

/*****************************************************************************
 * FUNCTION
 *  dm_add_image_2
 * DESCRIPTION
 *  This function is used to add image control to category screen
 * PARAMETERS
 *  image                     :  [IN]        Image
 *  image_name                :  [IN]        Name of image
 *  background                :  [IN]        Background Fill for the image
 *  img_type                  :  [IN]        Image type
 *  image_width               :  [IN]        image width for image raw data
 *  image_height              :  [IN]        image height for image raw data
 * RETURNS
 *  void
 *****************************************************************************/
/* extern void dm_add_image_2(PU8 img, S32 img_size, UI_filled_area *background, U32 dyn_prop, U8 img_type, S32 image_width, S32 image_height); */

/*****************************************************************************
 * FUNCTION
 *  dm_get_image_handle
 * DESCRIPTION
 *  This function is used to get the animation handle
 * PARAMETERS
 *  count                     :  [IN]        the number of the animation
 * RETURNS
 *  gdi_handle			image handle
 *****************************************************************************/
extern gdi_handle dm_get_image_handle(S32 count);

/*****************************************************************************
 * FUNCTION
 *  dm_change_image
 * DESCRIPTION
 *  This function is used to change image data of specified image
 * PARAMETERS
 *  image      : [IN]        New Image
 *  name       : [IN]        New Image Name
 *  index      : [IN]        Index (in dm_image_struct) of Image to be changed
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_change_image(PU8 image, UI_string_type name, S32 index);

/*****************************************************************************
 * FUNCTION
 *  dm_set_image_blt_before_callback
 * DESCRIPTION
 *  set blt before callback for image
 *  do not support sublcd image, and popup image
 * PARAMETERS
 *  index          : [IN]    index
 *  callback_ptr   : [IN]    callback function pointer
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_set_image_blt_before_callback(S32 index, void (*callback_ptr)(GDI_RESULT result));

/*****************************************************************************
 * FUNCTION
 *  dm_add_string
 * DESCRIPTION
 *  This function is used to add string data to Category Screen
 * PARAMETERS
 *  string             : [IN]        String to be displayed.
 *  font               : [IN]        Font to be used to draw the string
 *  text_color         : [IN]        Text Color for the string
 *  border_color       : [IN]        Border Color for the string
 *  background         : [IN]        Background Fill for the string
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_add_string(
                UI_string_type string,
                UI_font_type font,
                color text_color,
                color border_color,
                UI_filled_area *background);

/*****************************************************************************
 * FUNCTION
 *  dm_change_string
 * DESCRIPTION
 *  This function is used to change string data of Category Screen
 * PARAMETERS
 *  index			   : [IN]		 Index of String to be modified
 *  string             : [IN]        New String to be displayed.
 *  font               : [IN]        New Font to be used to draw the string
 *  text_color         : [IN]        New Text Color for the string
 *  border_color       : [IN]        New Border Color for the string
 *  background         : [IN]        New Background Fill for the string
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_change_string(
                S32 index,
                UI_string_type string,
                UI_font_type font,
                color text_color,
                color border_color,
                UI_filled_area *background);

/*****************************************************************************
 * FUNCTION
 *  dm_reset_str_image
 * DESCRIPTION
 *  This function is used to reset the image and string areas count to 0.
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_reset_str_image(void);

/*****************************************************************************
 * FUNCTION
 *  dm_add_rectangle
 * DESCRIPTION
 *  This function is used to add rectangle control to Category Screen
 * PARAMETERS
 *  line_color         : [IN]        Color for the reactangle
 *  fill_rectangle     : [IN]        In Whether the rectangle needs to be filled from inside
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_add_rectangle(color line_color, dm_rectangle_fill_style fill_rectangle);

/*****************************************************************************
 * FUNCTION
 *  dm_add_line
 * DESCRIPTION
 *  This function is used to add line control to Category Screen
 * PARAMETERS
 *  line_color     : [IN]        Color for the reactangle
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_add_line(color line_color);

/*****************************************************************************
 * FUNCTION
 *  dm_add_back_fill_area
 * DESCRIPTION
 *  This function is used to add back fill area control
 * PARAMETERS
 *  background     : [IN]        Background Fill for the area
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_add_back_fill_area(UI_filled_area *background);

/*****************************************************************************
 * FUNCTION
 *  dm_add_scroll_text
 * DESCRIPTION
 *  This function is used to add scroll textcontrol to Category Screen
 * PARAMETERS
 *  text               : [IN]        text
 *  timer_callback     : [IN]        timer callback
 *  draw_background    : [IN]        function to draw background
 *  text_color         : [IN]        text color
 *  border_color       : [IN]        text border color
 *  line_color		   : [IN]        Color for the reactangle
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_add_scroll_text(UI_string_type text, void (*timer_callback) (void),
                        void (*draw_background) (S32 x1, S32 y1, S32 x2, S32 y2), color text_color, color border_color);

/*****************************************************************************
 * FUNCTION
 *  dm_add_scroll_text_ext
 * DESCRIPTION
 *  This function is used to add scroll text control to Category Screen
 * PARAMETERS
 *  text               : [IN]        Text buffer
 *  x                  : [IN]        x
 *  y                  : [IN]        y
 *  w                  : [IN]        width
 *  h                  : [IN]        height
 *  timer_callback     : [IN]        Invoke when scroll finish
 *  draw_background    : [IN]        Draw the text background
 *  text_color         : [IN]        Text color
 *  border_color       : [IN]        Border color
 *  is_force_scroll    : [IN]        Force scroll or not
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_add_scroll_text_ext(UI_string_type text, S32 x, S32 y, S32 w, S32 h, void (*timer_callback) (void),
                        void (*draw_background) (S32 x1, S32 y1, S32 x2, S32 y2), color text_color, color border_color, 
                        MMI_BOOL is_force_scroll);

/*****************************************************************************
 * FUNCTION
 *  dm_change_scroll_text
 * DESCRIPTION
 *  This function is used to change scroll text. 
 *  If category wants to display it after changed, please remember to redraw
 * PARAMETERS
 *  index              : [IN]        Scroll text index
 *  text               : [IN]        Scroll text buffer
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_change_scroll_text(S32 index, UI_string_type text);

/*****************************************************************************
 * FUNCTION
 *  dm_stop_scroll_text
 * DESCRIPTION
 *  This function is used to stop scroll text
 * PARAMETERS
 *  index              :  [IN]        Scroll text index
 * RETURNS
 *  MMI_BOOL    If the text is NULL, then return false, else return true.
 *****************************************************************************/
extern MMI_BOOL dm_stop_scroll_text(S32 index);

/*****************************************************************************
 * FUNCTION
 *  dm_restart_scroll_text
 * DESCRIPTION
 *  This function is used to restart scroll text. To be called by Category Screen
 * PARAMETERS
 *  index              :  [IN]        Scroll text index
 * RETURNS
 *  MMI_BOOL    If the text is NULL, then return false, else return true.
 *****************************************************************************/
extern MMI_BOOL dm_restart_scroll_text(S32 index);


/*****************************************************************************
 * FUNCTION
 *  dm_add_slide_control
 * DESCRIPTION
 *  This function is used to add slide control to Category Screen
 * PARAMETERS
 *  lower_limit        : [IN]        lower limit
 *  upper_limit        : [IN]        upper limit
 *  current_value      : [IN]        current slider value
 *  change_callback    : [IN]        on value change callback
 *  label_string       : [IN]        label string
 *  line_color         : [IN]        Color for the rectangle
 * RETURNS
 *  void
 *****************************************************************************/
void dm_add_slide_control(S32 lower_limit, S32 upper_limit, S32 current_value, void (*change_callback) (S32 value),
                          U8 *label_string);

/*****************************************************************************
 * FUNCTION
 *  dm_get_slide_control_count
 * DESCRIPTION
 *  This function is used to get count of active slide controls
 * PARAMETERS
 *  void
 * RETURNS
 *  S32			Count of slide controls present for the current category
 *****************************************************************************/
extern S32 dm_get_slide_control_count(void);

/*****************************************************************************
 * FUNCTION
 *  dm_add_button
 * DESCRIPTION
 *  This function is used to add button control with icons to category screen
 * PARAMETERS
 *  text           : [IN]        text
 *  up_image       : [IN]        Button up image
 *  down_image     : [IN]        Button down image
 *  clear_fp       : [IN]        Callback to clear bg
 * RETURNS
 *  U16         Index of the new button added in the DM button array
 *****************************************************************************/
extern U16 dm_add_button(UI_string_type text, PU8 up_image, PU8 down_image, gui_button_clear_background_hdlr clear_fp);

#ifdef __DM_PROGRESS_BAR_9_SLICE_BG_IMAGE__
/*****************************************************************************
 * FUNCTION
 *  dm_add_percentage_bar
 * DESCRIPTION
 *  Add percentage bar control on screen
 * PARAMETERS
 *  init_value             : [IN]   init value
 *  string                 : [IN]	string
 *  bar_color              : [IN]   color of bar     
 *  bg_image               : [IN]   bg image     
 *  left_side_image        : [IN]   left side image     
 *  right_side_image       : [IN]   right side image     
 * RETURNS
 *  U16			Index of new percentage bar added in DM percentage bar array
 *****************************************************************************/
extern U16 dm_add_percentage_bar(
            U16 init_value,
            U8 *string,
            color bar_color,
            U16 bg_image);

#else

/*****************************************************************************
 * FUNCTION
 *  dm_add_percentage_bar
 * DESCRIPTION
 *  Add percentage bar control on screen
 * PARAMETERS
 *  init_value             : [IN]   init value
 *  string                 : [IN]	string
 *  bar_color              : [IN]   color of bar     
 *  bg_image               : [IN]   bg image     
 *  left_side_image        : [IN]   left side image     
 *  right_side_image       : [IN]   right side image     
 * RETURNS
 *  U16			Index of new percentage bar added in DM percentage bar array
 *****************************************************************************/
extern U16 dm_add_percentage_bar(
            U16 init_value,
            U8 *string,
            color bar_color,
            U16 bg_image,
            U16 left_side_image,
            U16 right_side_image);
#endif

/*****************************************************************************
 * FUNCTION
 *  dm_update_percentage_bar_value
 * DESCRIPTION
 *  Update the percentage bar value
 * PARAMETERS
 *  id         : [IN]    id of percentage bar  
 *  value      : [IN]    new value 
 *  string     : [IN]	 string
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_update_percentage_bar_value(S32 id, U16 value, U8 *string);

/*****************************************************************************
 * FUNCTION
 *  dm_redraw_percentage_bar
 * DESCRIPTION
 *  Redraw Percentage Bar
 * PARAMETERS
 *  id      : [IN] id of bar to be redrawn   
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_redraw_percentage_bar(S32 id);

/*****************************************************************************
 * FUNCTION
 *  dm_change_percentage_bar_color
 * DESCRIPTION
 *  change the color of Percentage Bar
 * PARAMETERS
 *  id      : [IN]    id of the percentage bar control amongst all percentage bars on screen   
 *  c       : [IN]    new color    
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_change_percentage_bar_color(S32 id, color c);

#if (defined(__MMI_SEARCH_WEB__) || defined(__MMI_HIDD_SUPPORT__))
/*****************************************************************************
 * FUNCTION
 *  dm_add_panel
 * DESCRIPTION
 *  This function is used to add panel control to category screen
 * PARAMETERS
 *  x                          : [IN]        x of panel
 *  y                          : [IN]        y of panel
 *  width                      : [IN]        width of panel
 *  height                     : [IN]        height of panel
 *  background                 : [IN]        background painter
 *  display_focus              : [IN]        whether to display focussed element differently
 *  repeat_period              : [IN]        period of repeat events in milliseconds (0 for default)
 * RETURNS
 *  S32		Count of total panels on current category screen
 *****************************************************************************/
extern S32 dm_add_panel(
        S32 x, 
        S32 y, 
        S32 width, 
        S32 height, 
        gui_util_painter_struct background,
        MMI_BOOL display_focus,
        U32 repeat_period);

/*****************************************************************************
 * FUNCTION
 *  dm_add_panel_element
 * DESCRIPTION
 *  This function is used to add an element to certain panel
 * PARAMETERS
 *  panel_handle                   : [IN]        panel handle to the panel existence
 *  x                              : [IN]        x of element
 *  y                              : [IN]        y of element
 *  width                          : [IN]        width of element
 *  height                         : [IN]        height of element
 *  keycode                        : [IN]        keycode of element
 *  down_event_callback            : [IN]        Down event callback
 *  up_event_callback              : [IN]        up_event_callback of element
 *  repeat_event_callback          : [IN]        repeat_event_callback of element
 *  disable_painter                : [IN]        disable_painter of element
 *  normal_painter                 : [IN]        normal_painter of element
 *  focussed_painter               : [IN]        focussed_painter of element
 *  down_painter                   : [IN]        down_painter of element
 *  redraw_bg_after_state_changed  : [IN]        whether to redraw bg after state changed
 * RETURNS
 *  S32		Count of total panel elements in current category screen
 *****************************************************************************/
extern S32 dm_add_panel_element(
        S32 panel_handle,
        S32 x,
        S32 y,
        S32 width,
        S32 height,
        U16 keycode,
        FuncPtr down_event_callback,
        FuncPtr up_event_callback,
        FuncPtr repeat_event_callback,
        gui_util_painter_struct normal_painter,
        gui_util_painter_struct focussed_painter,
        gui_util_painter_struct down_painter,
        gui_util_painter_struct disable_painter,
        MMI_BOOL redraw_bg_after_state_changed);

/*****************************************************************************
 * FUNCTION
 *  dm_set_panel_enable_element
 * DESCRIPTION
 *  Enable/Disable panel element
 * PARAMETERS
 *  panel_handle       : [IN]            Panel handle to the panel existence
 *  elem_idx           : [IN]            Element index
 *  enabled            : [IN]            Is enable
 *  update_display     : [IN]            Is redraw
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_set_panel_enable_element(S32 panel_handle, S32 elem_idx, MMI_BOOL enabled, MMI_BOOL update_display);

/*****************************************************************************
 * FUNCTION
 *  dm_set_panel_element_focus
 * DESCRIPTION
 *  This function is used to set the focused element of certain panel
 * PARAMETERS
 *  panel_handle                   : [IN/OUT]    panel handle to the panel existence
 *  element_index                  : [IN]        element_index to be focused
 *  update_display                 : [IN]        whether to update the panel display
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_set_panel_element_focus(
        S32 panel_handle,
        S32 element_index,
        MMI_BOOL update_display);

/*****************************************************************************
 * FUNCTION
 *  dm_get_panel_element_focus
 * DESCRIPTION
 *  This function is used to get the focused element of certain panel
 * PARAMETERS
 *  panel_handle                   : [IN]        panel handle to the panel existence
 * RETURNS
 *  S32		index of focussed element on panel
 *****************************************************************************/
extern S32 dm_get_panel_element_focus(S32 panel_handle);

/*****************************************************************************
 * FUNCTION
 *  dm_get_panel_count
 * DESCRIPTION
 *  This function is used to get count of active panel
 * PARAMETERS
 *  void
 * RETURNS
 *  S32		panel count
 *****************************************************************************/
extern S32 dm_get_panel_count(void);

/*****************************************************************************
 * FUNCTION
 *  dm_register_panel_keys
 * DESCRIPTION
 *  This function is used to set the key handler for a certain panel
 * PARAMETERS
 *  panel_handle			: [IN]	panel handle
 *  handler				    : [IN]  callback for keys
 * RETURNS
 *  S32		result of setting handlers
 *****************************************************************************/
extern S32 dm_register_panel_keys(S32 panel_handle, FuncPtr handler);

/*****************************************************************************
 * FUNCTION
 *  dm_get_panel
 * DESCRIPTION
 *  This function is used to get the panel from a panel handle
 * PARAMETERS
 *  panel_handle		: [IN]	handle for panel drawn
 * RETURNS
 *  gui_panel_struct*	panel
 *****************************************************************************/
extern gui_panel_struct* dm_get_panel(S32 panel_handle);

/*****************************************************************************
 * FUNCTION
 *  dm_update_panel_element
 * DESCRIPTION
 *  update panel elements (set callbacks for panel elements)
 * PARAMETERS
 *  panel_handle                  :  [IN]        Panel handle to the panel existence
 *  elem_idx                      :  [IN]        Element index
 *  keycode                       :  [IN]        keycode of element
 *  down_event_callback           :  [IN]        Down event callback
 *  up_event_callback             :  [IN]        up_event_callback of element
 *  repeat_event_callback         :  [IN]        repeat_event_callback of element
 *  disable_painter               :  [IN]        disable_painter of element
 *  normal_painter                :  [IN]        normal_painter of element
 *  focussed_painter              :  [IN]        focussed_painter painter
 *  down_painter                  :  [IN]        down_painter of element
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_update_panel_element(
                S32 panel_handle, 
                S32 elem_idx, 
                U16 keycode,
                FuncPtr down_event_callback,
                FuncPtr up_event_callback,
                FuncPtr repeat_event_callback,
                gui_util_painter_struct normal_painter,
                gui_util_painter_struct focussed_painter,
                gui_util_painter_struct down_painter,
                gui_util_painter_struct disable_painter);
#else

#define dm_add_panel(a,b,c,d,e,f,g)                             NULL
#define dm_add_panel_element(a,b,c,d,e,f,g,h,i,j,k,l,m,n)       NULL
#define dm_set_panel_enable_element(a,b,c,d)                    NULL
#define dm_get_panel_count()                                    NULL
#define dm_get_panel_element_focus(x)                           NULL
#define dm_set_panel_element_focus(x,y,z)                       NULL
#define dm_register_panel_keys(a,b)                             NULL
#define dm_get_panel(a)                                         NULL
#define dm_update_panel_element(a,b,c,d,e,f,g,h,i,j)            NULL

#endif

/*****************************************************************************
 * FUNCTION
 *  dm_update_popup_bg
 * DESCRIPTION
 *  This function is used to update popup background
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_update_popup_bg(void);

/*****************************************************************************
 * FUNCTION
 *  dm_get_control_coordinates_from_category
 * DESCRIPTION
 *  This function is used to obtain the coordinate of the specific control.
 * PARAMETERS
 *  S32ScrId                  :  [IN]            screen ID
 *  S32CatId                  :  [IN]            category ID
 *  control                   :  [IN]            control ID
 *  index                     :  [IN]            index of the duplicate controls
 *  coordinate                :  [IN/OUT]        coordinates
 * RETURNS
 *  S16  current coordinate pointer
 *****************************************************************************/
extern S16* dm_get_control_coordinates_from_category(
                S32 s32ScrId,
                S32 s32CatId,
                mmi_dm_control_ids_enum control,
                S32 index,
                dm_coordinates *coordinate);

/*****************************************************************************
 * FUNCTION
 *  setup_previous_control
 * DESCRIPTION
 *  Set ups the coordinates for previous control.
 * PARAMETERS
 *  dm_coordinate_info    : [IN] coordinate info    
 * RETURNS
 *  void
 *****************************************************************************/
extern void setup_previous_control(dm_coordinates *dm_coordinate_info);

/*****************************************************************************
 * FUNCTION
 *  dm_sublcd_setup_data
 * DESCRIPTION
 *  This function sets up the information for the Sublcd Draw Manager
 * PARAMETERS
 *  dm_data     : [IN]        Which contains the Draw Manager Information
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_sublcd_setup_data(dm_data_struct *dm_data);

/*****************************************************************************
 * FUNCTION
 *  dm_sublcd_redraw_category_screen
 * DESCRIPTION
 *  This function redraws the Sublcd GUI Controls specified in control set of current category .
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_sublcd_redraw_category_screen(void);

/*****************************************************************************
 * FUNCTION
 *  dm_create_layer
 * DESCRIPTION
 *  This function is to create new GDI layer to be used for drawing
 * PARAMETERS
 *  x              : [IN]        X-coordinate of new layer
 *  y              : [IN]        Y-coordinate of new layer
 *  width          : [IN]        Width of new layer
 *  height         : [IN]        Height of new layer
 *  handle_ptr     : [IN/OUT]        Gets Handle of New Layer
 *  flags          : [IN]        Flags to identify the index of new layer
 * RETURNS
 *  GDI_RESULT  result of create layer
 *****************************************************************************/
extern gdi_result dm_create_layer(S32 x, S32 y, S32 width, S32 height, gdi_handle *handle_ptr, U32 flags);

/*****************************************************************************
 * FUNCTION
 *  dm_create_layer_using_outside_memory
 * DESCRIPTION
 *  This function is to create new GDI layer to be used for drawing using outside memory buffer
 * PARAMETERS
 *  x                      : [IN]        X-coordinate of new layer
 *  y                      : [IN]        Y-coordinate of new layer
 *  width                  : [IN]        Width of new layer
 *  height                 : [IN]        Height of new layer
 *  handle_ptr             : [IN/OUT]    Handle pointer of new layer
 *  outside_memory         : [IN]        Outside memory pointer
 *  outside_memory_size    : [IN]        Outside memory size
 *  flags                  : [IN]        Flags to identify the index of new layer
 * RETURNS
 *  void
 *****************************************************************************/
extern gdi_result dm_create_layer_using_outside_memory(
                    S32 x,
                    S32 y,
                    S32 width,
                    S32 height,
                    gdi_handle **handle_ptr,
                    U8 *outside_memory,
                    S32 outside_memory_size,
                    U32 flags);

/*****************************************************************************
 * FUNCTION
 *  dm_add_blt_layer
 * DESCRIPTION
 *  This function is to add new layer into blt layer list
 * PARAMETERS
 *  handle_ptr     : [IN]        New layer handle
 *  flags          : [IN]        Flags to identify the index of new layer
 * RETURNS
 *  MMI_BOOL result of adding layer
 *****************************************************************************/
#ifdef __DM_SLIM_USE_MULTIPLE_LAYERS__
extern MMI_BOOL dm_add_blt_layer(gdi_handle handle_ptr, U32 flags);
#else
#define dm_add_blt_layer(x, y) NULL
#endif
/*****************************************************************************
 * FUNCTION
 *  dm_register_button_functions
 * DESCRIPTION
 *  set handling functions of buttons
 * PARAMETERS
 *  button_index       : [IN]        Index of dm_button_array
 *  key_type           : [IN]        Key event type
 *  f                  : [IN]        Handling function pointer
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_register_button_functions(U16 button_index, U16 key_type, FuncPtr f);

/*****************************************************************************
 * FUNCTION
 *  dm_execute_button_handler
 * DESCRIPTION
 *  Execute left softkey handler from pen
 * PARAMETERS
 *  btn_index      : [IN]        button index
 *  key_type       : [IN]        KEY_EVENT_DOWN, KEY_EVENT_UP, KEY_LONG_PRESS
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_execute_button_handler(U16 btn_index, U16 key_type);

/*****************************************************************************
 * FUNCTION
 *  dm_get_layer_handle
 * DESCRIPTION
 *  This function returns the handle of GDI layer (from DM layers stack) for 
 *  specified index
 * PARAMETERS
 *  index       : [IN]        index of GDI layer
 * RETURNS
 *  GDI_HANDLE		layer handle for specified layer index
 *****************************************************************************/
#ifdef __DM_SLIM_USE_MULTIPLE_LAYERS__
extern GDI_HANDLE dm_get_layer_handle(U8 index);
#else
#define dm_get_layer_handle(x) GDI_ERROR_HANDLE
#endif

/*****************************************************************************
 * FUNCTION
 *  dm_get_layer_handle_ptr
 * DESCRIPTION
 *  This function returns the pointer to handle of GDI layer 
 *  (from DM layers stack) for specified index
 * PARAMETERS
 *  index      : [IN]        index of GDI layer
 * RETURNS
 *  GDI_HANDLE*		layer handle pointer for specified layer index
 *****************************************************************************/
extern GDI_HANDLE *dm_get_layer_handle_ptr(U8 index);

#ifdef __MMI_TOUCH_SCREEN__
/*****************************************************************************
 * FUNCTION
 *  dm_check_image_bound
 * DESCRIPTION
 *  check image bounder controlled by draw manager
 * PARAMETERS
 *  index       : [IN]        Index of images
 *  point       : [IN]        Pen point
 * RETURNS
 *  void
 *****************************************************************************/
extern MMI_BOOL dm_check_image_bound(U16 index, mmi_pen_point_struct point);
#endif 

/*****************************************************************************
 * FUNCTION
 *  dm_is_redraw_screen
 * DESCRIPTION
 *  Tells if DM screen state is REDRAW_2_REDRAW (needs redraw of screen without
 *  calling exit category) or not
 * PARAMETERS
 *  void
 * RETURNS
 *  MMI_BOOL	true if needs redraw
 *****************************************************************************/
extern MMI_BOOL dm_is_redraw_screen(void);

/*****************************************************************************
 * FUNCTION
 *  dm_register_wallpaper_anim_before_blt_callback
 * DESCRIPTION
 *  Register the update callback function of the wallpaper animation.
 *  This is mainly for ALPHA BLENDING images.
 * PARAMETERS
 *  f  : [IN]  Function pointer to be called before the wallpaper animation is blitted.
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_register_wallpaper_anim_update_callback(FuncPtr f);


/*****************************************************************************
 * FUNCTION
 *  dm_disable_small_screen_flatten
 * DESCRIPTION
 *  Disable small screen flattening.
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
#ifdef __DM_SLIM_USE_MULTIPLE_LAYERS__
extern void dm_disable_small_screen_flatten(void);
#else
#define dm_disable_small_screen_flatten() NULL
#endif

/*****************************************************************************
 * FUNCTION
 *  dm_enable_small_screen_flatten
 * DESCRIPTION
 *  Enable small screen flattening.
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
#ifdef __DM_SLIM_USE_MULTIPLE_LAYERS__
extern void dm_enable_small_screen_flatten(void);
#else
#define dm_enable_small_screen_flatten() NULL
#endif

/*****************************************************************************
 * FUNCTION
 *  dm_force_small_screen_flatten
 * DESCRIPTION
 *  Force small screen flattening. Used only when going back to a small screen 
 *  in the history because the underlying full-screen app must be flattened even
 *  if it calls dm_disable_small_screen_flatten().
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
#ifdef __DM_SLIM_USE_MULTIPLE_LAYERS__
extern void dm_force_small_screen_flatten(void);
#else
#define dm_force_small_screen_flatten() NULL
#endif

/*****************************************************************************
 * FUNCTION
 *  dm_unforce_small_screen_flatten
 * DESCRIPTION
 *  Unforce small screen flattening back to the default on state.
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
#ifdef __DM_SLIM_USE_MULTIPLE_LAYERS__
extern void dm_unforce_small_screen_flatten(void);
#else
#define dm_unforce_small_screen_flatten() NULL
#endif

/*****************************************************************************
 * FUNCTION
 *  dm_redraw_popup_background
 * DESCRIPTION
 *  This function is used to draw the pop-up background
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_redraw_popup_background(void);

/*****************************************************************************
 * FUNCTION
 *  dm_redraw_popup_foreground
 * DESCRIPTION
 *  This function is used to draw the pop-up foreground,
 *  including, pop-up bk image, image, multiline, scrolling text, etc.
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_redraw_popup_foreground(void);

/*****************************************************************************
 * FUNCTION
 *  dm_popupbg_set_clip
 * DESCRIPTION
 *  This function is used to set the clip region of the pop-up background
 * PARAMETERS
 *  clip_region    : [IN] clip region to restrict the draw area
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_popupbg_set_clip(dm_coordinates *clip_region);

/*****************************************************************************
 * FUNCTION
 *  dm_set_dm_data_flag
 * DESCRIPTION
 *  Set the current dm data flag
 * PARAMETERS
 *  flag						:	[IN]	flag of DM which contains data of category screen
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_set_dm_data_flag(S32 flag);

/*****************************************************************************
 * FUNCTION
 *  dm_get_dm_data_flag
 * DESCRIPTION
 *  Get the current dm data flag
 * PARAMETERS
 *  flag				:	[IN/OUT]  flag of DM which contains data of category screen
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_get_dm_data_flag(S32* flag);

/*****************************************************************************
 * FUNCTION
 *  dm_get_popup_bg_coordinate
 * DESCRIPTION
 *  This function is used to get popup background coordinate.
 * PARAMETERS
 *  dm_popup_background_info   : [IN/OUT]    popup background information
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_get_popup_bg_coordinate(dm_coordinates *dm_popup_background_info);

/*****************************************************************************
 * FUNCTION
 *  dm_imui_window_hide
 * DESCRIPTION
 *  This function needs to called after the IMUI window hides itself after display.
 *  It will redraw all the components in the category.
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_imui_window_hide(void);

/*****************************************************************************
 * FUNCTION
 *  dm_imui_window_display
 * DESCRIPTION
 *  This function needs to called before the IMUI window display
 *  It will stop the scrolling text of dm scrolling text control and
 *  the highlighted list items text and its hint.  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void dm_imui_window_display(void);

/*****************************************************************************
 * FUNCTION
 *  dm_get_main_lcd_data
 * DESCRIPTION
 *  This function returns the global DM data of main lcd  
 * PARAMETERS
 *  data_context				:	[IN/OUT]	DM data context
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_get_main_lcd_data(dm_data_struct *data_context);

/*****************************************************************************
 * FUNCTION
 *  dm_set_main_lcd_data
 * DESCRIPTION
 *  This function sets the global DM data of main lcd  
 * PARAMETERS
 *  data_context				:	[IN]	DM data context
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_set_main_lcd_data(dm_data_struct *data_context);

/*****************************************************************************
 * FUNCTION
 *  dm_set_sub_lcd_active
 * DESCRIPTION
 *  This function sets the sub lcd as active lcd for DM
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_set_sub_lcd_active(void);


/*****************************************************************************
 * FUNCTION
 *  dm_add_title_id
 * DESCRIPTION
 *  This function is used to add title with IDs
 * PARAMETERS
 *  title_str_id        :	[IN]	Title String ID
 *  title_img_id       :	[IN]	Title Image ID
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_add_title_id_ex(
	MMI_STR_ID title_str_id
#ifndef __MMI_TITLE_BAR_NO_ICON_SHCT__
	, MMI_IMG_ID title_img_id
#endif/*__MMI_TITLE_BAR_NO_ICON_SHCT__*/
	);
#ifndef __MMI_TITLE_BAR_NO_ICON_SHCT__
#define dm_add_title_id dm_add_title_id_ex
#else/*__MMI_TITLE_BAR_NO_ICON_SHCT__*/
#define dm_add_title_id(_arg0, arg1) dm_add_title_id_ex(_arg0)
#endif/*__MMI_TITLE_BAR_NO_ICON_SHCT__*/



/*****************************************************************************
 * FUNCTION
 *  dm_add_softkey_id
 * DESCRIPTION
 *  This function is used to add softkeys with IDs
 * PARAMETERS
 *  lsk_str_id        :	[IN]	LSK String ID
 *  rsk_str_id        :	[IN]	RSK String ID
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_add_softkey_id(MMI_STR_ID lsk_str_id, MMI_STR_ID rsk_str_id);



/*****************************************************************************
 * FUNCTION
 *  dm_add_softkey_str
 * DESCRIPTION
 *  This function is used to add softkeys with strings
 * PARAMETERS
 *  lsk_str        :	[IN]	LSK String
 *  rsk_str        :	[IN]	RSK String
 * RETURNS
 *  void
 *****************************************************************************/
extern void dm_add_softkey_str(UI_string_type lsk_str, UI_string_type rsk_str);

#endif /* __WGUI_DRAW_MANAGER_H__ */ 

